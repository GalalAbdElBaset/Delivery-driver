{"version":3,"sources":["contact.js"],"names":["document","addEventListener","currentYearElement","getElementById","textContent","Date","getFullYear","querySelector","classList","add","style","display","initMap","L","Error","map","setView","attribution","maxZoom","addTo","currentLang","localStorage","getItem","marker","bindPopup","concat","circle","color","fillColor","fillOpacity","radius","Control","extend","onAdd","div","DomUtil","create","innerHTML","position","error","widgetClose","mapElement","translations","errorTitle","errorMessage","lastScrollTop","tunisiaBranch","remove","en","qatarBranch","alsoContact","t","ar","querySelectorAll","writeText","showMapError","setTimeout","encodedMessage","encodeURIComponent","whatsappMessage","whatsappNumber","formData","countryCode","widget","reset","charCount","window","scrollTop","pageYOffset","documentElement","forEach","button","showToast","textToCopy","this","getAttribute","navigator","clipboard","then","err","messageTextarea","highlight","length","unhighlight","handleDrop","files","fileUpload","contactForm","e","preventDefault","fullName","createElement","value","phoneNumber","email","appendChild","serviceType","urgency","message","privacyPolicy","checked","i","file","type","formatFileSize","size","fileItem","fileList","toLocaleString","trim","open","whatsappURL","dt","bytes","updateFileList","clearFormBtn","confirm","eventName","toast","preventDefaults","stopPropagation","formSubmitted","fileUploadArea","setupLanguageListener","fileCountText","header","className","tunisiaMarker","fileIcon","startsWith","includes","name","endsWith","country","fileSize","btn","index","parseInt","removeFile","DataTransfer","items","Math","floor","log","parseFloat","pow","toFixed","parentNode","removeChild","setupFormValidation","setupCopyButtons","dataTransfer","setupQuickWidget","setupCharacterCounter","arguments","undefined","coverage","qatar","tunisia","offices","body","AOS","init","duration","once","offset","ContactPage","_classCallCheck","allQatar","allTunisia","callNow","tileLayer","handleFormSubmit","openPopup","createPopupContent","addCoverageAreas","addMapLegend","console","isQatar","qatarTitle","validateForm","phone","whatsapp","contactBtn","getFormData","tunisiaTitle","openWhatsApp","messageSubject","preferredContact","personalInfo","notProvided","any","urgent","emergency","subject","submitted","normal","_this","successMessage","clearForm","submitBtn","setFormLoading","formatWhatsAppMessage","createWhatsAppURL","phoneRegex","showFieldError","field","input","clearFieldError","serviceTypeText","selectedOptions","text","errorDiv","borderColor","title","emailRegex","serviceInfo","copyToClipboard","urgencyMap","contactMethodMap","handleFileSelect","url","_this2","showSuccessMessage","allowedTypes","trackFormSubmission","errorText","dropArea","fileInput","isLoading","disabled","loader","_this3","validateField","id","dispatchEvent","test","fontSize","marginTop","_this4","_this5","_this6","setupWidgetScrollBehavior","click","setupDragAndDrop","_step","_iterator","Symbol","iterator","_iteratorNormalCompletion","next","done","push","maxLength","_this7","faqItems","question","otherItem","element","scrollBtn","behavior","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","event","Event","bubbles","_this8","eachLayer","layer","createFileItem","_this9","getFileIcon","splice","match","sizes","_this10","substring","item","contains","toggle","scrollTo","top","_this11","detail","language","updateContentLanguage","getPopup","timestamp","gtag","event_category","event_label"],"mappings":"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","file":"contact.min.js","sourcesContent":["/**\r\n * contact.js - Logic for Contact Page\r\n * Handles form submission, map initialization, and contact functionality\r\n */\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n            // Set current year\r\n            const currentYearElement = document.getElementById('currentYear');\r\n            if (currentYearElement) {\r\n                currentYearElement.textContent = new Date().getFullYear();\r\n            }\r\n            \r\n            // Hide page transition\r\n            setTimeout(function() {\r\n                document.querySelector('.page-transition').classList.add('hidden');\r\n            }, 800);\r\n            \r\n            setTimeout(function() {\r\n                document.querySelector('.page-transition').style.display = 'none';\r\n            }, 1400);\r\n            \r\n            // Initialize map\r\n            const initMap = () => {\r\n                const mapElement = document.getElementById('contactMap');\r\n                if (!mapElement) return;\r\n                \r\n                try {\r\n                    if (typeof L === 'undefined') {\r\n                        throw new Error('Leaflet library not loaded');\r\n                    }\r\n                    \r\n                    // Create the map centered between Qatar and Tunisia\r\n                    const map = L.map('contactMap').setView([28.0, 30.0], 5);\r\n                    \r\n                    // Add OpenStreetMap tile layer\r\n                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n                        attribution: 'Â© OpenStreetMap contributors',\r\n                        maxZoom: 18,\r\n                    }).addTo(map);\r\n                    \r\n                    // Get current language\r\n                    const currentLang = localStorage.getItem('language') || 'ar';\r\n                    \r\n                    // Qatar location marker (Doha)\r\n                    const qatarMarker = L.marker([25.2854, 51.5310]).addTo(map)\r\n                        .bindPopup(`\r\n                            <div class=\"map-popup\">\r\n                                <h3>${currentLang === 'en' ? 'Qatar Operations Center' : 'Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙÙŠ Ù‚Ø·Ø±'}</h3>\r\n                                <p><i class=\"fas fa-phone\"></i> +974 71 375 390</p>\r\n                                <p><i class=\"fab fa-whatsapp\"></i> WhatsApp Available</p>\r\n                                <p><i class=\"fas fa-map-marker-alt\"></i> ${currentLang === 'en' ? 'Covering all Qatar areas' : 'ØªØºØ·ÙŠØ© Ø¬Ù…ÙŠØ¹ Ù…Ù†Ø§Ø·Ù‚ Ù‚Ø·Ø±'}</p>\r\n                                <a href=\"https://wa.me/97471375390\" target=\"_blank\" \r\n                                   style=\"display: inline-block; margin-top: 10px; padding: 8px 15px; background: #25D366; color: white; border-radius: 5px; text-decoration: none;\">\r\n                                    <i class=\"fab fa-whatsapp\"></i> ${currentLang === 'en' ? 'Contact on WhatsApp' : 'ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨'}\r\n                                </a>\r\n                            </div>\r\n                        `)\r\n                        .openPopup();\r\n                    \r\n                    // Tunisia location marker (Tunis)\r\n                    const tunisiaMarker = L.marker([36.8065, 10.1815]).addTo(map)\r\n                        .bindPopup(`\r\n                            <div class=\"map-popup\">\r\n                                <h3>${currentLang === 'en' ? 'Tunisia Operations Center' : 'Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙÙŠ ØªÙˆÙ†Ø³'}</h3>\r\n                                <p><i class=\"fas fa-phone\"></i> +216 56 471 550</p>\r\n                                <p><i class=\"fab fa-whatsapp\"></i> WhatsApp Available</p>\r\n                                <p><i class=\"fas fa-map-marker-alt\"></i> ${currentLang === 'en' ? 'Covering all Tunisia areas' : 'ØªØºØ·ÙŠØ© Ø¬Ù…ÙŠØ¹ Ù…Ù†Ø§Ø·Ù‚ ØªÙˆÙ†Ø³'}</p>\r\n                                <a href=\"https://wa.me/21656471550\" target=\"_blank\" \r\n                                   style=\"display: inline-block; margin-top: 10px; padding: 8px 15px; background: #25D366; color: white; border-radius: 5px; text-decoration: none;\">\r\n                                    <i class=\"fab fa-whatsapp\"></i> ${currentLang === 'en' ? 'Contact on WhatsApp' : 'ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨'}\r\n                                </a>\r\n                            </div>\r\n                        `);\r\n                    \r\n                    // Add coverage circles\r\n                    const qatarCircle = L.circle([25.2854, 51.5310], {\r\n                        color: '#8A1538',\r\n                        fillColor: '#8A1538',\r\n                        fillOpacity: 0.1,\r\n                        radius: 50000\r\n                    }).addTo(map).bindPopup(currentLang === 'en' ? 'Qatar Coverage Area' : 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªØºØ·ÙŠØ© ÙÙŠ Ù‚Ø·Ø±');\r\n                    \r\n                    const tunisiaCircle = L.circle([36.8065, 10.1815], {\r\n                        color: '#E70013',\r\n                        fillColor: '#E70013',\r\n                        fillOpacity: 0.1,\r\n                        radius: 150000\r\n                    }).addTo(map).bindPopup(currentLang === 'en' ? 'Tunisia Coverage Area' : 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªØºØ·ÙŠØ© ÙÙŠ ØªÙˆÙ†Ø³');\r\n                    \r\n                    // Add legend control\r\n                    const Legend = L.Control.extend({\r\n                        onAdd: function(map) {\r\n                            const div = L.DomUtil.create('div', 'map-legend');\r\n                            div.innerHTML = `\r\n                                <h4>${currentLang === 'en' ? 'Coverage Areas' : 'Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªØºØ·ÙŠØ©'}</h4>\r\n                                <div class=\"legend-item\">\r\n                                    <span class=\"legend-color\" style=\"background: #8A1538;\"></span>\r\n                                    <span>${currentLang === 'en' ? 'Qatar Coverage' : 'ØªØºØ·ÙŠØ© Ù‚Ø·Ø±'}</span>\r\n                                </div>\r\n                                <div class=\"legend-item\">\r\n                                    <span class=\"legend-color\" style=\"background: #E70013;\"></span>\r\n                                    <span>${currentLang === 'en' ? 'Tunisia Coverage' : 'ØªØºØ·ÙŠØ© ØªÙˆÙ†Ø³'}</span>\r\n                                </div>\r\n                                <div class=\"legend-item\">\r\n                                    <span class=\"legend-color\" style=\"background: #D4AF37;\"></span>\r\n                                    <span>${currentLang === 'en' ? 'Main Offices' : 'Ø§Ù„Ù…ÙƒØ§ØªØ¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©'}</span>\r\n                                </div>\r\n                            `;\r\n                            return div;\r\n                        }\r\n                    });\r\n                    \r\n                    new Legend({ position: 'bottomright' }).addTo(map);\r\n                    \r\n                    console.log('Map initialized successfully');\r\n                    \r\n                } catch (error) {\r\n                    console.error('Error initializing map:', error);\r\n                    showMapError();\r\n                }\r\n            };\r\n            \r\n            // Show map error message\r\n            function showMapError() {\r\n                const mapElement = document.getElementById('contactMap');\r\n                if (mapElement) {\r\n                    const currentLang = localStorage.getItem('language') || 'ar';\r\n                    const translations = {\r\n                        ar: {\r\n                            errorTitle: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø±ÙŠØ·Ø©',\r\n                            errorMessage: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø±ÙŠØ·Ø©. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ø¨Ø± Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªØ§Ù„ÙŠØ©:',\r\n                            qatarBranch: 'ÙØ±Ø¹ Ù‚Ø·Ø±',\r\n                            tunisiaBranch: 'ÙØ±Ø¹ ØªÙˆÙ†Ø³',\r\n                            alsoContact: 'ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ø§Ù‹ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:'\r\n                        },\r\n                        en: {\r\n                            errorTitle: 'Map Failed to Load',\r\n                            errorMessage: 'There was an error loading the map. You can contact us directly via the following numbers:',\r\n                            qatarBranch: 'Qatar Branch',\r\n                            tunisiaBranch: 'Tunisia Branch',\r\n                            alsoContact: 'You can also contact via email:'\r\n                        }\r\n                    };\r\n                    \r\n                    const t = translations[currentLang] || translations.ar;\r\n                    \r\n                    mapElement.innerHTML = `\r\n                        <div class=\"map-error-container\">\r\n                            <div class=\"map-error-icon\">\r\n                                <i class=\"fas fa-map-marked-alt\"></i>\r\n                            </div>\r\n                            <h3>${t.errorTitle}</h3>\r\n                            <p>${t.errorMessage}</p>\r\n                            \r\n                            <div class=\"map-error-contacts\">\r\n                                <div class=\"error-contact-card\">\r\n                                    <div class=\"country-header\">\r\n                                        <img src=\"https://flagcdn.com/w40/qa.png\" alt=\"Qatar\">\r\n                                        <div>\r\n                                            <h4>${t.qatarBranch}</h4>\r\n                                            <p style=\"color: #888; margin: 5px 0 0; font-size: 0.9rem;\">${currentLang === 'en' ? 'All Qatar areas' : 'Ø¬Ù…ÙŠØ¹ Ù…Ù†Ø§Ø·Ù‚ Ù‚Ø·Ø±'}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"contact-actions\">\r\n                                        <a href=\"https://wa.me/97471375390\" class=\"whatsapp-btn\">\r\n                                            <i class=\"fab fa-whatsapp\"></i>\r\n                                            <span>WhatsApp: +974 71 375 390</span>\r\n                                        </a>\r\n                                        <a href=\"tel:+97471375390\" class=\"call-btn\">\r\n                                            <i class=\"fas fa-phone\"></i>\r\n                                            <span>${currentLang === 'en' ? 'Call Now' : 'Ø§ØªØµÙ„ Ø§Ù„Ø¢Ù†'}</span>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div class=\"error-contact-card\">\r\n                                    <div class=\"country-header\">\r\n                                        <img src=\"https://flagcdn.com/w40/tn.png\" alt=\"Tunisia\">\r\n                                        <div>\r\n                                            <h4>${t.tunisiaBranch}</h4>\r\n                                            <p style=\"color: #888; margin: 5px 0 0; font-size: 0.9rem;\">${currentLang === 'en' ? 'All Tunisia areas' : 'Ø¬Ù…ÙŠØ¹ Ù…Ù†Ø§Ø·Ù‚ ØªÙˆÙ†Ø³'}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"contact-actions\">\r\n                                        <a href=\"https://wa.me/21656471550\" class=\"whatsapp-btn\">\r\n                                            <i class=\"fab fa-whatsapp\"></i>\r\n                                            <span>WhatsApp: +216 56 471 550</span>\r\n                                        </a>\r\n                                        <a href=\"tel:+21656471550\" class=\"call-btn\">\r\n                                            <i class=\"fas fa-phone\"></i>\r\n                                            <span>${currentLang === 'en' ? 'Call Now' : 'Ø§ØªØµÙ„ Ø§Ù„Ø¢Ù†'}</span>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div style=\"margin-top: 20px; padding: 20px; background: rgba(212, 175, 55, 0.1); border-radius: 8px;\">\r\n                                <p><strong>${t.alsoContact}</strong></p>\r\n                                <p><i class=\"fas fa-envelope\" style=\"color: #D4AF37; margin-left: 5px;\"></i> \r\n                                <a href=\"mailto:helamishwar@gmail.com\" style=\"color: #8A1538;\">helamishwar@gmail.com</a></p>\r\n                            </div>\r\n                        </div>\r\n                    `;\r\n                }\r\n            }\r\n            \r\n            // Start map initialization\r\n            setTimeout(() => {\r\n                initMap();\r\n            }, 500);\r\n            \r\n            // Quick contact widget\r\n            const widget = document.querySelector('.quick-contact-widget');\r\n            const widgetClose = document.querySelector('.widget-close');\r\n            \r\n            if (widget && widgetClose) {\r\n                // Show widget after 5 seconds\r\n                setTimeout(() => {\r\n                    widget.classList.add('active');\r\n                }, 5000);\r\n                \r\n                // Close widget\r\n                widgetClose.addEventListener('click', function() {\r\n                    widget.classList.remove('active');\r\n                });\r\n                \r\n                // Hide widget on scroll down\r\n                let lastScrollTop = 0;\r\n                window.addEventListener('scroll', function() {\r\n                    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n                    \r\n                    if (scrollTop > lastScrollTop) {\r\n                        // Scrolling down - hide widget\r\n                        widget.classList.remove('active');\r\n                    } else {\r\n                        // Scrolling up - show widget if scrolled enough\r\n                        if (scrollTop > 500) {\r\n                            widget.classList.add('active');\r\n                        }\r\n                    }\r\n                    \r\n                    lastScrollTop = scrollTop;\r\n                });\r\n            }\r\n            \r\n            // Copy button functionality\r\n            document.querySelectorAll('.copy-btn').forEach(button => {\r\n                button.addEventListener('click', function() {\r\n                    const textToCopy = this.getAttribute('data-text') || this.getAttribute('data-number');\r\n                    if (textToCopy) {\r\n                        navigator.clipboard.writeText(textToCopy).then(() => {\r\n                            const currentLang = localStorage.getItem('language') || 'ar';\r\n                            const message = currentLang === 'en' ? 'Copied to clipboard!' : 'ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!';\r\n                            showToast(message, 'success');\r\n                        }).catch(err => {\r\n                            console.error('Failed to copy: ', err);\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n            \r\n            // Character counter for message textarea\r\n            const messageTextarea = document.getElementById('message');\r\n            const charCount = document.querySelector('.char-count');\r\n            \r\n            if (messageTextarea && charCount) {\r\n                messageTextarea.addEventListener('input', function() {\r\n                    const length = this.value.length;\r\n                    charCount.textContent = length + '/2000 ' + (localStorage.getItem('language') === 'en' ? 'characters' : 'Ø­Ø±Ù');\r\n                    \r\n                    if (length > 1900) {\r\n                        charCount.style.color = '#ff6b6b';\r\n                    } else if (length > 1500) {\r\n                        charCount.style.color = '#ffa726';\r\n                    } else {\r\n                        charCount.style.color = '#666';\r\n                    }\r\n                });\r\n            }\r\n            \r\n            // Form submission\r\n            const contactForm = document.getElementById('contactForm');\r\n            if (contactForm) {\r\n                contactForm.addEventListener('submit', function(e) {\r\n                    e.preventDefault();\r\n                    \r\n                    // Get form data\r\n                    const formData = {\r\n                        fullName: document.getElementById('fullName').value,\r\n                        countryCode: document.getElementById('countryCode').value,\r\n                        phoneNumber: document.getElementById('phoneNumber').value,\r\n                        email: document.getElementById('email').value,\r\n                        preferredContact: document.getElementById('preferredContact').value,\r\n                        serviceType: document.getElementById('serviceType').value,\r\n                        urgency: document.getElementById('urgency').value,\r\n                        messageSubject: document.getElementById('messageSubject').value,\r\n                        message: document.getElementById('message').value,\r\n                        privacyPolicy: document.getElementById('privacyPolicy').checked\r\n                    };\r\n                    \r\n                    // Validate form\r\n                    if (!formData.privacyPolicy) {\r\n                        const currentLang = localStorage.getItem('language') || 'ar';\r\n                        const message = currentLang === 'en' \r\n                            ? 'Please accept the privacy policy' \r\n                            : 'ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©';\r\n                        showToast(message, 'error');\r\n                        return;\r\n                    }\r\n                    \r\n                    // Format message for WhatsApp\r\n                    const whatsappMessage = `\r\n*New Contact Form Submission - Tn-QA Delivery*\r\n\r\n*ğŸ‘¤ Personal Information:*\r\nâ€¢ Name: ${formData.fullName}\r\nâ€¢ Phone: ${formData.countryCode} ${formData.phoneNumber}\r\nâ€¢ Email: ${formData.email || 'Not provided'}\r\nâ€¢ Preferred Contact: ${formData.preferredContact}\r\n\r\n*ğŸ“¦ Service Information:*\r\nâ€¢ Service Type: ${formData.serviceType}\r\nâ€¢ Urgency: ${formData.urgency}\r\nâ€¢ Subject: ${formData.messageSubject}\r\n\r\n*ğŸ’¬ Message:*\r\n${formData.message}\r\n\r\n*ğŸ“… Submitted on:* ${new Date().toLocaleString()}\r\n                    `.trim();\r\n                    \r\n                    // Encode for WhatsApp URL\r\n                    const encodedMessage = encodeURIComponent(whatsappMessage);\r\n                    const whatsappNumber = formData.countryCode === '+216' ? '21656471550' : '97471375390';\r\n                    const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;\r\n                    \r\n                    // Open WhatsApp in new tab\r\n                    window.open(whatsappURL, '_blank');\r\n                    \r\n                    // Show success message\r\n                    const currentLang = localStorage.getItem('language') || 'ar';\r\n                    const message = currentLang === 'en' \r\n                        ? 'Form submitted successfully! Opening WhatsApp...' \r\n                        : 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ù†Ø¬Ø§Ø­! Ø¬Ø§Ø±Ù ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨...';\r\n                    showToast(message, 'success');\r\n                    \r\n                    // Reset form after 2 seconds\r\n                    setTimeout(() => {\r\n                        contactForm.reset();\r\n                        if (charCount) {\r\n                            charCount.textContent = '0/2000 ' + (currentLang === 'en' ? 'characters' : 'Ø­Ø±Ù');\r\n                            charCount.style.color = '#666';\r\n                        }\r\n                    }, 2000);\r\n                });\r\n            }\r\n            \r\n            // Clear form button\r\n            const clearFormBtn = document.getElementById('clearForm');\r\n            if (clearFormBtn) {\r\n                clearFormBtn.addEventListener('click', function() {\r\n                    if (confirm(localStorage.getItem('language') === 'en' \r\n                        ? 'Are you sure you want to clear the form?' \r\n                        : 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŸ')) {\r\n                        contactForm.reset();\r\n                        const currentLang = localStorage.getItem('language') || 'ar';\r\n                        if (charCount) {\r\n                            charCount.textContent = '0/2000 ' + (currentLang === 'en' ? 'characters' : 'Ø­Ø±Ù');\r\n                            charCount.style.color = '#666';\r\n                        }\r\n                        showToast(currentLang === 'en' ? 'Form cleared' : 'ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬', 'info');\r\n                    }\r\n                });\r\n            }\r\n            \r\n            // File upload functionality\r\n            const fileUpload = document.getElementById('fileUpload');\r\n            const fileUploadArea = document.getElementById('fileUploadArea');\r\n            const fileList = document.getElementById('fileList');\r\n            \r\n            if (fileUpload && fileUploadArea) {\r\n                // Click on area to trigger file input\r\n                fileUploadArea.addEventListener('click', function() {\r\n                    fileUpload.click();\r\n                });\r\n                \r\n                // Handle file selection\r\n                fileUpload.addEventListener('change', function() {\r\n                    updateFileList();\r\n                });\r\n                \r\n                // Drag and drop functionality\r\n                ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\r\n                    fileUploadArea.addEventListener(eventName, preventDefaults, false);\r\n                });\r\n                \r\n                function preventDefaults(e) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                }\r\n                \r\n                ['dragenter', 'dragover'].forEach(eventName => {\r\n                    fileUploadArea.addEventListener(eventName, highlight, false);\r\n                });\r\n                \r\n                ['dragleave', 'drop'].forEach(eventName => {\r\n                    fileUploadArea.addEventListener(eventName, unhighlight, false);\r\n                });\r\n                \r\n                function highlight() {\r\n                    fileUploadArea.classList.add('highlight');\r\n                }\r\n                \r\n                function unhighlight() {\r\n                    fileUploadArea.classList.remove('highlight');\r\n                }\r\n                \r\n                fileUploadArea.addEventListener('drop', handleDrop, false);\r\n                \r\n                function handleDrop(e) {\r\n                    const dt = e.dataTransfer;\r\n                    const files = dt.files;\r\n                    fileUpload.files = files;\r\n                    updateFileList();\r\n                }\r\n                \r\n                function updateFileList() {\r\n                    if (!fileList) return;\r\n                    \r\n                    fileList.innerHTML = '';\r\n                    const files = fileUpload.files;\r\n                    \r\n                    if (files.length === 0) {\r\n                        return;\r\n                    }\r\n                    \r\n                    const currentLang = localStorage.getItem('language') || 'ar';\r\n                    const fileCountText = currentLang === 'en' \r\n                        ? `${files.length} file(s) selected` \r\n                        : `ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${files.length} Ù…Ù„Ù(Ø§Øª)`;\r\n                    \r\n                    const header = document.createElement('div');\r\n                    header.className = 'file-list-header';\r\n                    header.innerHTML = `\r\n                        <span>${fileCountText}</span>\r\n                        <button type=\"button\" class=\"clear-files-btn\">\r\n                            ${currentLang === 'en' ? 'Clear All' : 'Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„'}\r\n                        </button>\r\n                    `;\r\n                    fileList.appendChild(header);\r\n                    \r\n                    // Add clear files button functionality\r\n                    const clearFilesBtn = header.querySelector('.clear-files-btn');\r\n                    clearFilesBtn.addEventListener('click', function() {\r\n                        fileUpload.value = '';\r\n                        updateFileList();\r\n                    });\r\n                    \r\n                    // List files\r\n                    for (let i = 0; i < files.length; i++) {\r\n                        const file = files[i];\r\n                        const fileItem = document.createElement('div');\r\n                        fileItem.className = 'file-item';\r\n                        \r\n                        // Get file icon based on type\r\n                        let fileIcon = 'fa-file';\r\n                        if (file.type.startsWith('image/')) {\r\n                            fileIcon = 'fa-file-image';\r\n                        } else if (file.type === 'application/pdf') {\r\n                            fileIcon = 'fa-file-pdf';\r\n                        } else if (file.type.includes('word') || file.name.endsWith('.doc') || file.name.endsWith('.docx')) {\r\n                            fileIcon = 'fa-file-word';\r\n                        }\r\n                        \r\n                        // Format file size\r\n                        const fileSize = formatFileSize(file.size);\r\n                        \r\n                        fileItem.innerHTML = `\r\n                            <div class=\"file-info\">\r\n                                <i class=\"fas ${fileIcon}\"></i>\r\n                                <div>\r\n                                    <span class=\"file-name\">${file.name}</span>\r\n                                    <span class=\"file-size\">${fileSize}</span>\r\n                                </div>\r\n                            </div>\r\n                            <button type=\"button\" class=\"remove-file-btn\" data-index=\"${i}\">\r\n                                <i class=\"fas fa-times\"></i>\r\n                            </button>\r\n                        `;\r\n                        \r\n                        fileList.appendChild(fileItem);\r\n                    }\r\n                    \r\n                    // Add remove file functionality\r\n                    fileList.querySelectorAll('.remove-file-btn').forEach(btn => {\r\n                        btn.addEventListener('click', function() {\r\n                            const index = parseInt(this.getAttribute('data-index'));\r\n                            removeFile(index);\r\n                        });\r\n                    });\r\n                }\r\n                \r\n                function removeFile(index) {\r\n                    const dt = new DataTransfer();\r\n                    const files = fileUpload.files;\r\n                    \r\n                    for (let i = 0; i < files.length; i++) {\r\n                        if (i !== index) {\r\n                            dt.items.add(files[i]);\r\n                        }\r\n                    }\r\n                    \r\n                    fileUpload.files = dt.files;\r\n                    updateFileList();\r\n                }\r\n                \r\n                function formatFileSize(bytes) {\r\n                    if (bytes === 0) return '0 Bytes';\r\n                    const k = 1024;\r\n                    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n                    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n                    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n                }\r\n            }\r\n            \r\n            // Toast notification function\r\n            function showToast(message, type = 'info') {\r\n                // Remove existing toasts\r\n                document.querySelectorAll('.toast-message').forEach(toast => toast.remove());\r\n                \r\n                const toast = document.createElement('div');\r\n                toast.className = `toast-message ${type}`;\r\n                toast.textContent = message;\r\n                document.body.appendChild(toast);\r\n                \r\n                // Remove toast after animation\r\n                setTimeout(() => {\r\n                    if (toast.parentNode) {\r\n                        toast.parentNode.removeChild(toast);\r\n                    }\r\n                }, 3000);\r\n            }\r\n            \r\n            // Initialize AOS animations if available\r\n            if (typeof AOS !== 'undefined') {\r\n                AOS.init({\r\n                    duration: 800,\r\n                    once: true,\r\n                    offset: 100\r\n                });\r\n            }\r\n        });\r\nclass ContactPage {\r\n    constructor() {\r\n        this.map = null;\r\n        this.formSubmitted = false;\r\n        this.files = [];\r\n        this.currentLang = localStorage.getItem('language') || 'ar';\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.initializeMap();\r\n        this.setupFormValidation();\r\n        this.setupCopyButtons();\r\n        this.setupFileUpload();\r\n        this.setupQuickWidget();\r\n        this.setupCharacterCounter();\r\n        this.setupFAQAccordion();\r\n        this.setupScrollToTop();\r\n        this.setupLanguageListener();\r\n    }\r\n\r\n    /**\r\n     * Initialize Leaflet Map\r\n     */\r\n    initializeMap() {\r\n        const mapElement = document.getElementById('contactMap');\r\n        if (!mapElement) return;\r\n\r\n        try {\r\n            // Check if Leaflet is loaded\r\n            if (typeof L === 'undefined') {\r\n                throw new Error('Leaflet library not loaded');\r\n            }\r\n\r\n            // Create map centered between Qatar and Tunisia\r\n            this.map = L.map('contactMap').setView([28.0, 30.0], 5);\r\n\r\n            // Add OpenStreetMap tile layer\r\n            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n                attribution: 'Â© OpenStreetMap contributors',\r\n                maxZoom: 18,\r\n            }).addTo(this.map);\r\n\r\n            // Qatar location marker (Doha)\r\n            const qatarMarker = L.marker([25.2854, 51.5310]).addTo(this.map)\r\n                .bindPopup(this.createPopupContent('qatar'))\r\n                .openPopup();\r\n\r\n            // Tunisia location marker (Tunis)\r\n            const tunisiaMarker = L.marker([36.8065, 10.1815]).addTo(this.map)\r\n                .bindPopup(this.createPopupContent('tunisia'));\r\n\r\n            // Add coverage circles\r\n            this.addCoverageAreas();\r\n\r\n            // Add legend\r\n            this.addMapLegend();\r\n\r\n            console.log('Map initialized successfully');\r\n\r\n        } catch (error) {\r\n            console.error('Error initializing map:', error);\r\n            this.showMapError();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create popup content for map markers\r\n     */\r\n    createPopupContent(country) {\r\n        const isQatar = country === 'qatar';\r\n        const translations = {\r\n            ar: {\r\n                qatarTitle: 'Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙÙŠ Ù‚Ø·Ø±',\r\n                tunisiaTitle: 'Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙÙŠ ØªÙˆÙ†Ø³',\r\n                phone: 'Ø§Ù„Ù‡Ø§ØªÙ',\r\n                whatsapp: 'ÙˆØ§ØªØ³Ø§Ø¨ Ù…ØªÙˆÙØ±',\r\n                coverage: 'ØªØºØ·ÙŠØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚',\r\n                contactBtn: 'ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨'\r\n            },\r\n            en: {\r\n                qatarTitle: 'Qatar Operations Center',\r\n                tunisiaTitle: 'Tunisia Operations Center',\r\n                phone: 'Phone',\r\n                whatsapp: 'WhatsApp Available',\r\n                coverage: 'Covering all areas',\r\n                contactBtn: 'Contact on WhatsApp'\r\n            }\r\n        };\r\n\r\n        const t = translations[this.currentLang] || translations.ar;\r\n        const phone = isQatar ? '+974 71 375 390' : '+216 56 471 550';\r\n        const whatsapp = isQatar ? '97471375390' : '21656471550';\r\n\r\n        return `\r\n            <div class=\"map-popup\">\r\n                <h3>${isQatar ? t.qatarTitle : t.tunisiaTitle}</h3>\r\n                <p><i class=\"fas fa-phone\"></i> ${phone}</p>\r\n                <p><i class=\"fab fa-whatsapp\"></i> ${t.whatsapp}</p>\r\n                <p><i class=\"fas fa-map-marker-alt\"></i> ${t.coverage}</p>\r\n                <a href=\"https://wa.me/${whatsapp}\" target=\"_blank\" \r\n                   class=\"map-popup-btn\">\r\n                    <i class=\"fab fa-whatsapp\"></i> ${t.contactBtn}\r\n                </a>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * Add coverage areas to map\r\n     */\r\n    addCoverageAreas() {\r\n        // Qatar coverage circle\r\n        L.circle([25.2854, 51.5310], {\r\n            color: '#8A1538',\r\n            fillColor: '#8A1538',\r\n            fillOpacity: 0.1,\r\n            radius: 50000\r\n        }).addTo(this.map).bindPopup(this.currentLang === 'en' \r\n            ? 'Qatar Coverage Area' \r\n            : 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªØºØ·ÙŠØ© ÙÙŠ Ù‚Ø·Ø±');\r\n\r\n        // Tunisia coverage circle\r\n        L.circle([36.8065, 10.1815], {\r\n            color: '#E70013',\r\n            fillColor: '#E70013',\r\n            fillOpacity: 0.1,\r\n            radius: 150000\r\n        }).addTo(this.map).bindPopup(this.currentLang === 'en' \r\n            ? 'Tunisia Coverage Area' \r\n            : 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªØºØ·ÙŠØ© ÙÙŠ ØªÙˆÙ†Ø³');\r\n    }\r\n\r\n    /**\r\n     * Add legend to map\r\n     */\r\n    addMapLegend() {\r\n        const Legend = L.Control.extend({\r\n            onAdd: function(map) {\r\n                const div = L.DomUtil.create('div', 'map-legend');\r\n                const translations = {\r\n                    ar: {\r\n                        coverage: 'Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªØºØ·ÙŠØ©',\r\n                        qatar: 'ØªØºØ·ÙŠØ© Ù‚Ø·Ø±',\r\n                        tunisia: 'ØªØºØ·ÙŠØ© ØªÙˆÙ†Ø³',\r\n                        offices: 'Ø§Ù„Ù…ÙƒØ§ØªØ¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©'\r\n                    },\r\n                    en: {\r\n                        coverage: 'Coverage Areas',\r\n                        qatar: 'Qatar Coverage',\r\n                        tunisia: 'Tunisia Coverage',\r\n                        offices: 'Main Offices'\r\n                    }\r\n                };\r\n                \r\n                const t = translations[localStorage.getItem('language') || 'ar'] || translations.ar;\r\n                \r\n                div.innerHTML = `\r\n                    <h4>${t.coverage}</h4>\r\n                    <div class=\"legend-item\">\r\n                        <span class=\"legend-color\" style=\"background: #8A1538;\"></span>\r\n                        <span>${t.qatar}</span>\r\n                    </div>\r\n                    <div class=\"legend-item\">\r\n                        <span class=\"legend-color\" style=\"background: #E70013;\"></span>\r\n                        <span>${t.tunisia}</span>\r\n                    </div>\r\n                    <div class=\"legend-item\">\r\n                        <span class=\"legend-color\" style=\"background: #D4AF37;\"></span>\r\n                        <span>${t.offices}</span>\r\n                    </div>\r\n                `;\r\n                return div;\r\n            }\r\n        });\r\n\r\n        new Legend({ position: 'bottomright' }).addTo(this.map);\r\n    }\r\n\r\n    /**\r\n     * Show map error message\r\n     */\r\n    showMapError() {\r\n        const mapElement = document.getElementById('contactMap');\r\n        if (!mapElement) return;\r\n\r\n        const translations = {\r\n            ar: {\r\n                errorTitle: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø±ÙŠØ·Ø©',\r\n                errorMessage: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø±ÙŠØ·Ø©. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ø¨Ø± Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªØ§Ù„ÙŠØ©:',\r\n                qatarBranch: 'ÙØ±Ø¹ Ù‚Ø·Ø±',\r\n                tunisiaBranch: 'ÙØ±Ø¹ ØªÙˆÙ†Ø³',\r\n                alsoContact: 'ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ø§Ù‹ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:',\r\n                allQatar: 'Ø¬Ù…ÙŠØ¹ Ù…Ù†Ø§Ø·Ù‚ Ù‚Ø·Ø±',\r\n                allTunisia: 'Ø¬Ù…ÙŠØ¹ Ù…Ù†Ø§Ø·Ù‚ ØªÙˆÙ†Ø³',\r\n                callNow: 'Ø§ØªØµÙ„ Ø§Ù„Ø¢Ù†'\r\n            },\r\n            en: {\r\n                errorTitle: 'Map Failed to Load',\r\n                errorMessage: 'There was an error loading the map. You can contact us directly via the following numbers:',\r\n                qatarBranch: 'Qatar Branch',\r\n                tunisiaBranch: 'Tunisia Branch',\r\n                alsoContact: 'You can also contact via email:',\r\n                allQatar: 'All Qatar areas',\r\n                allTunisia: 'All Tunisia areas',\r\n                callNow: 'Call Now'\r\n            }\r\n        };\r\n\r\n        const t = translations[this.currentLang] || translations.ar;\r\n\r\n        mapElement.innerHTML = `\r\n            <div class=\"map-error-container\">\r\n                <div class=\"map-error-icon\">\r\n                    <i class=\"fas fa-map-marked-alt\"></i>\r\n                </div>\r\n                <h3>${t.errorTitle}</h3>\r\n                <p>${t.errorMessage}</p>\r\n                \r\n                <div class=\"map-error-contacts\">\r\n                    <div class=\"error-contact-card\">\r\n                        <div class=\"country-header\">\r\n                            <img src=\"https://flagcdn.com/w40/qa.png\" alt=\"Qatar\">\r\n                            <div>\r\n                                <h4>${t.qatarBranch}</h4>\r\n                                <p style=\"color: #888; margin: 5px 0 0; font-size: 0.9rem;\">${t.allQatar}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"contact-actions\">\r\n                            <a href=\"https://wa.me/97471375390\" class=\"whatsapp-btn\">\r\n                                <i class=\"fab fa-whatsapp\"></i>\r\n                                <span>WhatsApp: +974 71 375 390</span>\r\n                            </a>\r\n                            <a href=\"tel:+97471375390\" class=\"call-btn\">\r\n                                <i class=\"fas fa-phone\"></i>\r\n                                <span>${t.callNow}</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"error-contact-card\">\r\n                        <div class=\"country-header\">\r\n                            <img src=\"https://flagcdn.com/w40/tn.png\" alt=\"Tunisia\">\r\n                            <div>\r\n                                <h4>${t.tunisiaBranch}</h4>\r\n                                <p style=\"color: #888; margin: 5px 0 0; font-size: 0.9rem;\">${t.allTunisia}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"contact-actions\">\r\n                            <a href=\"https://wa.me/21656471550\" class=\"whatsapp-btn\">\r\n                                <i class=\"fab fa-whatsapp\"></i>\r\n                                <span>WhatsApp: +216 56 471 550</span>\r\n                            </a>\r\n                            <a href=\"tel:+21656471550\" class=\"call-btn\">\r\n                                <i class=\"fas fa-phone\"></i>\r\n                                <span>${t.callNow}</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div style=\"margin-top: 20px; padding: 20px; background: rgba(212, 175, 55, 0.1); border-radius: 8px;\">\r\n                    <p><strong>${t.alsoContact}</strong></p>\r\n                    <p><i class=\"fas fa-envelope\" style=\"color: #D4AF37; margin-left: 5px;\"></i> \r\n                    <a href=\"mailto:helamishwar@gmail.com\" style=\"color: #8A1538;\">helamishwar@gmail.com</a></p>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * Setup form validation and submission\r\n     */\r\n    setupFormValidation() {\r\n        const contactForm = document.getElementById('contactForm');\r\n        if (!contactForm) return;\r\n\r\n        contactForm.addEventListener('submit', (e) => this.handleFormSubmit(e));\r\n\r\n        // Clear form button\r\n        const clearFormBtn = document.getElementById('clearForm');\r\n        if (clearFormBtn) {\r\n            clearFormBtn.addEventListener('click', () => this.clearForm());\r\n        }\r\n\r\n        // Real-time validation\r\n        this.setupRealTimeValidation();\r\n    }\r\n\r\n    /**\r\n     * Handle form submission\r\n     */\r\n    handleFormSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        if (this.formSubmitted) {\r\n            this.showToast(\r\n                this.currentLang === 'en' \r\n                    ? 'Please wait while we process your previous request' \r\n                    : 'ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø£Ø«Ù†Ø§Ø¡ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø·Ù„Ø¨Ùƒ Ø§Ù„Ø³Ø§Ø¨Ù‚',\r\n                'warning'\r\n            );\r\n            return;\r\n        }\r\n\r\n        // Validate form\r\n        if (!this.validateForm()) {\r\n            return;\r\n        }\r\n\r\n        // Show loading state\r\n        this.setFormLoading(true);\r\n\r\n        // Get form data\r\n        const formData = this.getFormData();\r\n\r\n        // Prepare WhatsApp message\r\n        const whatsappMessage = this.formatWhatsAppMessage(formData);\r\n        const whatsappURL = this.createWhatsAppURL(formData, whatsappMessage);\r\n\r\n        // Open WhatsApp\r\n        this.openWhatsApp(whatsappURL, formData);\r\n    }\r\n\r\n    /**\r\n     * Validate form data\r\n     */\r\n    validateForm() {\r\n        const fullName = document.getElementById('fullName').value.trim();\r\n        const phoneNumber = document.getElementById('phoneNumber').value.trim();\r\n        const messageSubject = document.getElementById('messageSubject').value.trim();\r\n        const message = document.getElementById('message').value.trim();\r\n        const privacyPolicy = document.getElementById('privacyPolicy').checked;\r\n        const serviceType = document.getElementById('serviceType').value;\r\n\r\n        // Check required fields\r\n        if (!fullName) {\r\n            this.showToast(\r\n                this.currentLang === 'en' ? 'Please enter your full name' : 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„',\r\n                'error'\r\n            );\r\n            return false;\r\n        }\r\n\r\n        if (!phoneNumber) {\r\n            this.showToast(\r\n                this.currentLang === 'en' ? 'Please enter your phone number' : 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ',\r\n                'error'\r\n            );\r\n            return false;\r\n        }\r\n\r\n        if (!serviceType || serviceType === '') {\r\n            this.showToast(\r\n                this.currentLang === 'en' ? 'Please select a service type' : 'ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©',\r\n                'error'\r\n            );\r\n            return false;\r\n        }\r\n\r\n        if (!messageSubject) {\r\n            this.showToast(\r\n                this.currentLang === 'en' ? 'Please enter a message subject' : 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©',\r\n                'error'\r\n            );\r\n            return false;\r\n        }\r\n\r\n        if (!message) {\r\n            this.showToast(\r\n                this.currentLang === 'en' ? 'Please enter your message' : 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©',\r\n                'error'\r\n            );\r\n            return false;\r\n        }\r\n\r\n        if (message.length < 10) {\r\n            this.showToast(\r\n                this.currentLang === 'en' ? 'Message is too short (minimum 10 characters)' : 'Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‚ØµÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ 10 Ø£Ø­Ø±Ù)',\r\n                'error'\r\n            );\r\n            return false;\r\n        }\r\n\r\n        if (!privacyPolicy) {\r\n            this.showToast(\r\n                this.currentLang === 'en' \r\n                    ? 'Please accept the privacy policy' \r\n                    : 'ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©',\r\n                'error'\r\n            );\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get form data\r\n     */\r\n    getFormData() {\r\n        return {\r\n            fullName: document.getElementById('fullName').value.trim(),\r\n            countryCode: document.getElementById('countryCode').value,\r\n            phoneNumber: document.getElementById('phoneNumber').value.trim(),\r\n            email: document.getElementById('email').value.trim(),\r\n            preferredContact: document.getElementById('preferredContact').value,\r\n            serviceType: document.getElementById('serviceType').value,\r\n            serviceTypeText: document.getElementById('serviceType').selectedOptions[0].text,\r\n            urgency: document.getElementById('urgency').value,\r\n            messageSubject: document.getElementById('messageSubject').value.trim(),\r\n            message: document.getElementById('message').value.trim(),\r\n            privacyPolicy: document.getElementById('privacyPolicy').checked,\r\n            files: this.files,\r\n            timestamp: new Date().toLocaleString()\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Format WhatsApp message\r\n     */\r\n    formatWhatsAppMessage(formData) {\r\n        const translations = {\r\n            ar: {\r\n                title: 'ğŸ“‹ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - Tn-QA Delivery',\r\n                personalInfo: 'ğŸ‘¤ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©:',\r\n                name: 'Ø§Ù„Ø§Ø³Ù…',\r\n                phone: 'Ø§Ù„Ù‡Ø§ØªÙ',\r\n                email: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',\r\n                preferredContact: 'Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…ÙØ¶Ù„Ø©',\r\n                serviceInfo: 'ğŸ“¦ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø©:',\r\n                serviceType: 'Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©',\r\n                urgency: 'Ø¯Ø±Ø¬Ø© Ø§Ù„Ø§Ø³ØªØ¹Ø¬Ø§Ù„',\r\n                subject: 'Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹',\r\n                message: 'ğŸ’¬ Ø§Ù„Ø±Ø³Ø§Ù„Ø©:',\r\n                submitted: 'ğŸ“… ÙˆÙ‚Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:',\r\n                notProvided: 'ØºÙŠØ± Ù…Ù‚Ø¯Ù…',\r\n                any: 'Ø£ÙŠ Ø·Ø±ÙŠÙ‚Ø©',\r\n                normal: 'Ø¹Ø§Ø¯ÙŠ',\r\n                urgent: 'Ø¹Ø§Ø¬Ù„',\r\n                emergency: 'Ø·Ø§Ø±Ø¦'\r\n            },\r\n            en: {\r\n                title: 'ğŸ“‹ New Contact Form Submission - Tn-QA Delivery',\r\n                personalInfo: 'ğŸ‘¤ Personal Information:',\r\n                name: 'Name',\r\n                phone: 'Phone',\r\n                email: 'Email',\r\n                preferredContact: 'Preferred Contact',\r\n                serviceInfo: 'ğŸ“¦ Service Information:',\r\n                serviceType: 'Service Type',\r\n                urgency: 'Urgency Level',\r\n                subject: 'Subject',\r\n                message: 'ğŸ’¬ Message:',\r\n                submitted: 'ğŸ“… Submitted on:',\r\n                notProvided: 'Not provided',\r\n                any: 'Any method',\r\n                normal: 'Normal',\r\n                urgent: 'Urgent',\r\n                emergency: 'Emergency'\r\n            }\r\n        };\r\n\r\n        const t = translations[this.currentLang] || translations.ar;\r\n        const urgencyMap = {\r\n            normal: t.normal,\r\n            urgent: t.urgent,\r\n            emergency: t.emergency\r\n        };\r\n\r\n        const contactMethodMap = {\r\n            whatsapp: this.currentLang === 'en' ? 'WhatsApp' : 'ÙˆØ§ØªØ³Ø§Ø¨',\r\n            phone: this.currentLang === 'en' ? 'Phone Call' : 'Ù…ÙƒØ§Ù„Ù…Ø© Ù‡Ø§ØªÙÙŠØ©',\r\n            email: this.currentLang === 'en' ? 'Email' : 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',\r\n            any: t.any\r\n        };\r\n\r\n        return `\r\n${t.title}\r\n\r\n*${t.personalInfo}*\r\nâ€¢ ${t.name}: ${formData.fullName}\r\nâ€¢ ${t.phone}: ${formData.countryCode} ${formData.phoneNumber}\r\nâ€¢ ${t.email}: ${formData.email || t.notProvided}\r\nâ€¢ ${t.preferredContact}: ${contactMethodMap[formData.preferredContact] || formData.preferredContact}\r\n\r\n*${t.serviceInfo}*\r\nâ€¢ ${t.serviceType}: ${formData.serviceTypeText}\r\nâ€¢ ${t.urgency}: ${urgencyMap[formData.urgency] || formData.urgency}\r\nâ€¢ ${t.subject}: ${formData.messageSubject}\r\n\r\n*${t.message}*\r\n${formData.message}\r\n\r\n${formData.files.length > 0 ? `\\nğŸ“ ${formData.files.length} file(s) attached` : ''}\r\n\r\n*${t.submitted}* ${formData.timestamp}\r\n        `.trim();\r\n    }\r\n\r\n    /**\r\n     * Create WhatsApp URL\r\n     */\r\n    createWhatsAppURL(formData, message) {\r\n        const whatsappNumber = formData.countryCode === '+216' ? '21656471550' : '97471375390';\r\n        const encodedMessage = encodeURIComponent(message);\r\n        return `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;\r\n    }\r\n\r\n    /**\r\n     * Open WhatsApp with form data\r\n     */\r\n    openWhatsApp(url, formData) {\r\n        // Open WhatsApp in new tab\r\n        const newWindow = window.open(url, '_blank');\r\n        \r\n        if (newWindow) {\r\n            this.showSuccessMessage();\r\n            this.formSubmitted = true;\r\n            \r\n            // Reset form after delay\r\n            setTimeout(() => {\r\n                this.clearForm();\r\n                this.formSubmitted = false;\r\n            }, 3000);\r\n            \r\n            // Track submission\r\n            this.trackFormSubmission(formData);\r\n        } else {\r\n            this.showToast(\r\n                this.currentLang === 'en' \r\n                    ? 'Please allow pop-ups to open WhatsApp' \r\n                    : 'ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ù„ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨',\r\n                'error'\r\n            );\r\n            this.setFormLoading(false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show success message\r\n     */\r\n    showSuccessMessage() {\r\n        const successMessage = document.getElementById('successMessage');\r\n        const errorMessage = document.getElementById('errorMessage');\r\n        \r\n        if (successMessage) successMessage.style.display = 'flex';\r\n        if (errorMessage) errorMessage.style.display = 'none';\r\n        \r\n        this.showToast(\r\n            this.currentLang === 'en' \r\n                ? 'Form submitted successfully! Opening WhatsApp...' \r\n                : 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ù†Ø¬Ø§Ø­! Ø¬Ø§Ø±Ù ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨...',\r\n            'success'\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Show error message\r\n     */\r\n    showErrorMessage(message) {\r\n        const successMessage = document.getElementById('successMessage');\r\n        const errorMessage = document.getElementById('errorMessage');\r\n        const errorText = document.getElementById('errorText');\r\n        \r\n        if (successMessage) successMessage.style.display = 'none';\r\n        if (errorMessage) errorMessage.style.display = 'flex';\r\n        if (errorText) errorText.textContent = message;\r\n        \r\n        this.showToast(message, 'error');\r\n    }\r\n\r\n    /**\r\n     * Set form loading state\r\n     */\r\n    setFormLoading(isLoading) {\r\n        const submitBtn = document.getElementById('submitForm');\r\n        const loader = document.getElementById('formLoader');\r\n        \r\n        if (submitBtn) {\r\n            submitBtn.disabled = isLoading;\r\n        }\r\n        \r\n        if (loader) {\r\n            loader.style.display = isLoading ? 'block' : 'none';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear form data\r\n     */\r\n    clearForm() {\r\n        if (confirm(\r\n            this.currentLang === 'en' \r\n                ? 'Are you sure you want to clear the form?' \r\n                : 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŸ'\r\n        )) {\r\n            const contactForm = document.getElementById('contactForm');\r\n            if (contactForm) {\r\n                contactForm.reset();\r\n                this.files = [];\r\n                this.updateFileList();\r\n                \r\n                // Reset character counter\r\n                const charCount = document.querySelector('.char-count');\r\n                if (charCount) {\r\n                    charCount.textContent = `0/2000 ${this.currentLang === 'en' ? 'characters' : 'Ø­Ø±Ù'}`;\r\n                    charCount.style.color = '#666';\r\n                }\r\n                \r\n                // Hide status messages\r\n                const successMessage = document.getElementById('successMessage');\r\n                const errorMessage = document.getElementById('errorMessage');\r\n                if (successMessage) successMessage.style.display = 'none';\r\n                if (errorMessage) errorMessage.style.display = 'none';\r\n                \r\n                this.showToast(\r\n                    this.currentLang === 'en' ? 'Form cleared' : 'ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬',\r\n                    'info'\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Setup real-time form validation\r\n     */\r\n    setupRealTimeValidation() {\r\n        const inputs = document.querySelectorAll('#contactForm input, #contactForm textarea, #contactForm select');\r\n        \r\n        inputs.forEach(input => {\r\n            input.addEventListener('blur', () => this.validateField(input));\r\n            input.addEventListener('input', () => this.clearFieldError(input));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Validate individual field\r\n     */\r\n    validateField(field) {\r\n        const value = field.value.trim();\r\n        const fieldName = field.id || field.name;\r\n        \r\n        switch (fieldName) {\r\n            case 'fullName':\r\n                if (value.length < 2) {\r\n                    this.showFieldError(field, this.currentLang === 'en' \r\n                        ? 'Name must be at least 2 characters' \r\n                        : 'Ø§Ù„Ø§Ø³Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø­Ø±ÙÙŠÙ†');\r\n                    return false;\r\n                }\r\n                break;\r\n                \r\n            case 'phoneNumber':\r\n                const phoneRegex = /^[0-9]{8,15}$/;\r\n                if (!phoneRegex.test(value)) {\r\n                    this.showFieldError(field, this.currentLang === 'en' \r\n                        ? 'Please enter a valid phone number' \r\n                        : 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­');\r\n                    return false;\r\n                }\r\n                break;\r\n                \r\n            case 'email':\r\n                if (value && !this.isValidEmail(value)) {\r\n                    this.showFieldError(field, this.currentLang === 'en' \r\n                        ? 'Please enter a valid email address' \r\n                        : 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­');\r\n                    return false;\r\n                }\r\n                break;\r\n                \r\n            case 'message':\r\n                if (value.length < 10) {\r\n                    this.showFieldError(field, this.currentLang === 'en' \r\n                        ? 'Message is too short (minimum 10 characters)' \r\n                        : 'Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‚ØµÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ 10 Ø£Ø­Ø±Ù)');\r\n                    return false;\r\n                }\r\n                break;\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Show field error\r\n     */\r\n    showFieldError(field, message) {\r\n        this.clearFieldError(field);\r\n        \r\n        const errorDiv = document.createElement('div');\r\n        errorDiv.className = 'field-error';\r\n        errorDiv.textContent = message;\r\n        errorDiv.style.color = 'var(--error)';\r\n        errorDiv.style.fontSize = '0.85rem';\r\n        errorDiv.style.marginTop = '5px';\r\n        \r\n        field.parentNode.appendChild(errorDiv);\r\n        field.style.borderColor = 'var(--error)';\r\n    }\r\n\r\n    /**\r\n     * Clear field error\r\n     */\r\n    clearFieldError(field) {\r\n        const errorDiv = field.parentNode.querySelector('.field-error');\r\n        if (errorDiv) {\r\n            errorDiv.remove();\r\n        }\r\n        field.style.borderColor = '';\r\n    }\r\n\r\n    /**\r\n     * Validate email format\r\n     */\r\n    isValidEmail(email) {\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        return emailRegex.test(email);\r\n    }\r\n\r\n    /**\r\n     * Setup copy buttons\r\n     */\r\n    setupCopyButtons() {\r\n        document.querySelectorAll('.copy-btn').forEach(button => {\r\n            button.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                const textToCopy = button.getAttribute('data-text') || button.getAttribute('data-number');\r\n                if (textToCopy) {\r\n                    this.copyToClipboard(textToCopy);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Copy text to clipboard\r\n     */\r\n    copyToClipboard(text) {\r\n        navigator.clipboard.writeText(text).then(() => {\r\n            this.showToast(\r\n                this.currentLang === 'en' ? 'Copied to clipboard!' : 'ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!',\r\n                'success'\r\n            );\r\n        }).catch(err => {\r\n            console.error('Failed to copy: ', err);\r\n            this.showToast(\r\n                this.currentLang === 'en' ? 'Failed to copy text' : 'ÙØ´Ù„ ÙÙŠ Ù†Ø³Ø® Ø§Ù„Ù†Øµ',\r\n                'error'\r\n            );\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Setup file upload functionality\r\n     */\r\n    setupFileUpload() {\r\n        const fileUpload = document.getElementById('fileUpload');\r\n        const fileUploadArea = document.getElementById('fileUploadArea');\r\n        const fileList = document.getElementById('fileList');\r\n        \r\n        if (!fileUpload || !fileUploadArea) return;\r\n\r\n        // Click on area to trigger file input\r\n        fileUploadArea.addEventListener('click', () => fileUpload.click());\r\n\r\n        // Handle file selection\r\n        fileUpload.addEventListener('change', () => this.handleFileSelect(fileUpload.files));\r\n\r\n        // Drag and drop functionality\r\n        this.setupDragAndDrop(fileUploadArea, fileUpload);\r\n    }\r\n\r\n    /**\r\n     * Handle file selection\r\n     */\r\n    handleFileSelect(files) {\r\n        const maxSize = 10 * 1024 * 1024; // 10MB\r\n        const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf', \r\n                            'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\r\n\r\n        for (let file of files) {\r\n            // Check file size\r\n            if (file.size > maxSize) {\r\n                this.showToast(\r\n                    this.currentLang === 'en' \r\n                        ? `File \"${file.name}\" is too large (max 10MB)` \r\n                        : `Ø§Ù„Ù…Ù„Ù \"${file.name}\" ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹ (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 10 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª)`,\r\n                    'error'\r\n                );\r\n                continue;\r\n            }\r\n\r\n            // Check file type\r\n            if (!allowedTypes.includes(file.type) && \r\n                !file.name.match(/\\.(jpg|jpeg|png|pdf|doc|docx)$/i)) {\r\n                this.showToast(\r\n                    this.currentLang === 'en' \r\n                        ? `File type not supported for \"${file.name}\"` \r\n                        : `Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… Ù„Ù€ \"${file.name}\"`,\r\n                    'error'\r\n                );\r\n                continue;\r\n            }\r\n\r\n            // Add file to list\r\n            this.files.push(file);\r\n        }\r\n\r\n        this.updateFileList();\r\n    }\r\n\r\n    /**\r\n     * Setup drag and drop\r\n     */\r\n    setupDragAndDrop(dropArea, fileInput) {\r\n        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\r\n            dropArea.addEventListener(eventName, this.preventDefaults, false);\r\n        });\r\n\r\n        ['dragenter', 'dragover'].forEach(eventName => {\r\n            dropArea.addEventListener(eventName, () => this.highlight(dropArea), false);\r\n        });\r\n\r\n        ['dragleave', 'drop'].forEach(eventName => {\r\n            dropArea.addEventListener(eventName, () => this.unhighlight(dropArea), false);\r\n        });\r\n\r\n        dropArea.addEventListener('drop', (e) => this.handleDrop(e, fileInput), false);\r\n    }\r\n\r\n    /**\r\n     * Prevent default drag behaviors\r\n     */\r\n    preventDefaults(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    }\r\n\r\n    /**\r\n     * Highlight drop area\r\n     */\r\n    highlight(element) {\r\n        element.classList.add('highlight');\r\n    }\r\n\r\n    /**\r\n     * Unhighlight drop area\r\n     */\r\n    unhighlight(element) {\r\n        element.classList.remove('highlight');\r\n    }\r\n\r\n    /**\r\n     * Handle file drop\r\n     */\r\n    handleDrop(e, fileInput) {\r\n        const dt = e.dataTransfer;\r\n        const files = dt.files;\r\n        \r\n        // Create a new DataTransfer object to set files\r\n        const dataTransfer = new DataTransfer();\r\n        for (let file of files) {\r\n            dataTransfer.items.add(file);\r\n        }\r\n        fileInput.files = dataTransfer.files;\r\n        \r\n        // Trigger change event\r\n        const event = new Event('change', { bubbles: true });\r\n        fileInput.dispatchEvent(event);\r\n    }\r\n\r\n    /**\r\n     * Update file list display\r\n     */\r\n    updateFileList() {\r\n        const fileList = document.getElementById('fileList');\r\n        if (!fileList) return;\r\n\r\n        fileList.innerHTML = '';\r\n\r\n        if (this.files.length === 0) {\r\n            return;\r\n        }\r\n\r\n        // Create header\r\n        const header = document.createElement('div');\r\n        header.className = 'file-list-header';\r\n        header.innerHTML = `\r\n            <span>${this.currentLang === 'en' \r\n                ? `${this.files.length} file(s) selected` \r\n                : `ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${this.files.length} Ù…Ù„Ù(Ø§Øª)`}</span>\r\n            <button type=\"button\" class=\"clear-files-btn\">\r\n                ${this.currentLang === 'en' ? 'Clear All' : 'Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„'}\r\n            </button>\r\n        `;\r\n        fileList.appendChild(header);\r\n\r\n        // Add clear all functionality\r\n        header.querySelector('.clear-files-btn').addEventListener('click', () => {\r\n            this.files = [];\r\n            document.getElementById('fileUpload').value = '';\r\n            this.updateFileList();\r\n        });\r\n\r\n        // List files\r\n        this.files.forEach((file, index) => {\r\n            const fileItem = this.createFileItem(file, index);\r\n            fileList.appendChild(fileItem);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create file list item\r\n     */\r\n    createFileItem(file, index) {\r\n        const fileItem = document.createElement('div');\r\n        fileItem.className = 'file-item';\r\n        \r\n        // Get file icon\r\n        const fileIcon = this.getFileIcon(file);\r\n        \r\n        // Format file size\r\n        const fileSize = this.formatFileSize(file.size);\r\n        \r\n        fileItem.innerHTML = `\r\n            <div class=\"file-info\">\r\n                <i class=\"fas ${fileIcon}\"></i>\r\n                <div>\r\n                    <span class=\"file-name\">${file.name}</span>\r\n                    <span class=\"file-size\">${fileSize}</span>\r\n                </div>\r\n            </div>\r\n            <button type=\"button\" class=\"remove-file-btn\" data-index=\"${index}\">\r\n                <i class=\"fas fa-times\"></i>\r\n            </button>\r\n        `;\r\n        \r\n        // Add remove functionality\r\n        fileItem.querySelector('.remove-file-btn').addEventListener('click', () => {\r\n            this.files.splice(index, 1);\r\n            this.updateFileList();\r\n        });\r\n        \r\n        return fileItem;\r\n    }\r\n\r\n    /**\r\n     * Get file icon based on type\r\n     */\r\n    getFileIcon(file) {\r\n        if (file.type.startsWith('image/')) return 'fa-file-image';\r\n        if (file.type === 'application/pdf') return 'fa-file-pdf';\r\n        if (file.type.includes('word') || file.name.match(/\\.(doc|docx)$/i)) return 'fa-file-word';\r\n        return 'fa-file';\r\n    }\r\n\r\n    /**\r\n     * Format file size\r\n     */\r\n    formatFileSize(bytes) {\r\n        if (bytes === 0) return '0 Bytes';\r\n        const k = 1024;\r\n        const sizes = this.currentLang === 'en' \r\n            ? ['Bytes', 'KB', 'MB', 'GB'] \r\n            : ['Ø¨Ø§ÙŠØª', 'ÙƒÙŠÙ„ÙˆØ¨Ø§ÙŠØª', 'Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª', 'Ø¬ÙŠØ¬Ø§Ø¨Ø§ÙŠØª'];\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n    }\r\n\r\n    /**\r\n     * Setup quick contact widget\r\n     */\r\n    setupQuickWidget() {\r\n        const widget = document.querySelector('.quick-contact-widget');\r\n        const widgetClose = document.querySelector('.widget-close');\r\n        \r\n        if (!widget || !widgetClose) return;\r\n\r\n        // Show widget after delay\r\n        setTimeout(() => {\r\n            widget.classList.add('active');\r\n        }, 5000);\r\n\r\n        // Close widget\r\n        widgetClose.addEventListener('click', () => {\r\n            widget.classList.remove('active');\r\n        });\r\n\r\n        // Hide on scroll down, show on scroll up\r\n        this.setupWidgetScrollBehavior(widget);\r\n    }\r\n\r\n    /**\r\n     * Setup widget scroll behavior\r\n     */\r\n    setupWidgetScrollBehavior(widget) {\r\n        let lastScrollTop = 0;\r\n        \r\n        window.addEventListener('scroll', () => {\r\n            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n            \r\n            if (scrollTop > lastScrollTop) {\r\n                // Scrolling down - hide widget\r\n                widget.classList.remove('active');\r\n            } else if (scrollTop < lastScrollTop && scrollTop > 500) {\r\n                // Scrolling up and not at top - show widget\r\n                widget.classList.add('active');\r\n            }\r\n            \r\n            lastScrollTop = scrollTop;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Setup character counter for textarea\r\n     */\r\n    setupCharacterCounter() {\r\n        const messageTextarea = document.getElementById('message');\r\n        const charCount = document.querySelector('.char-count');\r\n        \r\n        if (!messageTextarea || !charCount) return;\r\n\r\n        messageTextarea.addEventListener('input', () => {\r\n            const length = messageTextarea.value.length;\r\n            const maxLength = 2000;\r\n            \r\n            charCount.textContent = `${length}/${maxLength} ${this.currentLang === 'en' ? 'characters' : 'Ø­Ø±Ù'}`;\r\n            \r\n            // Update color based on length\r\n            if (length > maxLength * 0.95) {\r\n                charCount.style.color = 'var(--error)';\r\n            } else if (length > maxLength * 0.8) {\r\n                charCount.style.color = 'var(--warning)';\r\n            } else {\r\n                charCount.style.color = 'var(--gray)';\r\n            }\r\n            \r\n            // Trim if exceeds max length\r\n            if (length > maxLength) {\r\n                messageTextarea.value = messageTextarea.value.substring(0, maxLength);\r\n                charCount.textContent = `${maxLength}/${maxLength} ${this.currentLang === 'en' ? 'characters' : 'Ø­Ø±Ù'}`;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Setup FAQ accordion\r\n     */\r\n    setupFAQAccordion() {\r\n        const faqItems = document.querySelectorAll('.faq-item');\r\n        \r\n        faqItems.forEach(item => {\r\n            const question = item.querySelector('.faq-question');\r\n            \r\n            question.addEventListener('click', () => {\r\n                // Close all other items\r\n                faqItems.forEach(otherItem => {\r\n                    if (otherItem !== item && otherItem.classList.contains('active')) {\r\n                        otherItem.classList.remove('active');\r\n                    }\r\n                });\r\n                \r\n                // Toggle current item\r\n                item.classList.toggle('active');\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Setup scroll to top button\r\n     */\r\n    setupScrollToTop() {\r\n        const scrollBtn = document.getElementById('scrollToTop');\r\n        \r\n        if (!scrollBtn) return;\r\n\r\n        // Show/hide button based on scroll position\r\n        window.addEventListener('scroll', () => {\r\n            if (window.pageYOffset > 300) {\r\n                scrollBtn.classList.add('visible');\r\n            } else {\r\n                scrollBtn.classList.remove('visible');\r\n            }\r\n        });\r\n\r\n        // Scroll to top on click\r\n        scrollBtn.addEventListener('click', () => {\r\n            window.scrollTo({\r\n                top: 0,\r\n                behavior: 'smooth'\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Setup language change listener\r\n     */\r\n    setupLanguageListener() {\r\n        // Listen for language changes\r\n        document.addEventListener('languageChanged', (e) => {\r\n            this.currentLang = e.detail.language;\r\n            this.updateContentLanguage();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Update content based on language\r\n     */\r\n    updateContentLanguage() {\r\n        // Update map popups\r\n        if (this.map) {\r\n            this.map.eachLayer((layer) => {\r\n                if (layer.bindPopup) {\r\n                    const popup = layer.getPopup();\r\n                    if (popup) {\r\n                        // You would need to store which marker is which\r\n                        // and update the popup content accordingly\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show toast notification\r\n     */\r\n    showToast(message, type = 'info') {\r\n        // Remove existing toasts\r\n        document.querySelectorAll('.toast-message').forEach(toast => toast.remove());\r\n        \r\n        const toast = document.createElement('div');\r\n        toast.className = `toast-message ${type}`;\r\n        toast.textContent = message;\r\n        document.body.appendChild(toast);\r\n        \r\n        // Remove after animation\r\n        setTimeout(() => {\r\n            if (toast.parentNode) {\r\n                toast.parentNode.removeChild(toast);\r\n            }\r\n        }, 3000);\r\n    }\r\n\r\n    /**\r\n     * Track form submission (for analytics)\r\n     */\r\n    trackFormSubmission(formData) {\r\n        // You can implement analytics tracking here\r\n        console.log('Form submitted:', {\r\n            serviceType: formData.serviceType,\r\n            urgency: formData.urgency,\r\n            timestamp: formData.timestamp\r\n        });\r\n        \r\n        // Example: Send to Google Analytics\r\n        if (typeof gtag !== 'undefined') {\r\n            gtag('event', 'form_submission', {\r\n                'event_category': 'contact',\r\n                'event_label': formData.serviceType\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n// Initialize when DOM is loaded\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    new ContactPage();\r\n});\r\n\r\n"]}