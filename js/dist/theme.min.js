"use strict";var themeToggle=document.getElementById("themeToggle"),floatThemeToggle=document.getElementById("floatThemeToggle"),themeColors={light:{sun:"#d4af37",moon:"#666666"},dark:{sun:"#666666",moon:"#f0f0f0"}};function initTheme(){var e,t=localStorage.getItem("theme")||"light",o=window.matchMedia("(prefers-color-scheme: dark)").matches;return"dark"===(e="system"===t?o?"dark":"light":t)?(document.body.classList.add("dark-theme"),updateThemeIcons(!0),updateIconColors(!0)):(document.body.classList.remove("dark-theme"),updateThemeIcons(!1),updateIconColors(!1)),updateThemeButtonText(),e}function updateThemeIcons(t){console.log("Updating theme icons. Is dark?",t);var e=document.querySelectorAll(".fa-sun"),o=document.querySelectorAll(".fa-moon");console.log("Found ".concat(e.length," sun icons and ").concat(o.length," moon icons")),e.forEach(function(e){t?(e.style.display="none",e.style.visibility="hidden",e.style.opacity="0"):(e.style.display="inline-block",e.style.visibility="visible",e.style.opacity="1")}),o.forEach(function(e){t?(e.style.display="inline-block",e.style.visibility="visible",e.style.opacity="1"):(e.style.display="none",e.style.visibility="hidden",e.style.opacity="0")}),e.forEach(function(e){e.setAttribute("data-theme",t?"hidden":"visible")}),o.forEach(function(e){e.setAttribute("data-theme",t?"visible":"hidden")})}function updateIconColors(t){var o=t?themeColors.dark:themeColors.light;document.querySelectorAll(".fa-sun").forEach(function(e){e.style.color=o.sun,e.style.transition="color 0.3s ease, opacity 0.3s ease"}),document.querySelectorAll(".fa-moon").forEach(function(e){e.style.color=o.moon,e.style.transition="color 0.3s ease, opacity 0.3s ease"}),document.querySelectorAll(".theme-btn, .float-theme").forEach(function(e){e.style.transition="all 0.3s ease",t?(e.style.color=o.moon,e.style.borderColor=o.moon):(e.style.color=o.sun,e.style.borderColor=o.sun)})}function updateThemeButtonText(){var e=document.querySelectorAll(".theme-text");if(0!==e.length){var t=document.body.classList.contains("dark-theme"),o=localStorage.getItem("language")||"ar";e.forEach(function(e){e.textContent="ar"===o?t?"داكن":"فاتح":t?"Dark":"Light",e.style.color=t?themeColors.dark.moon:themeColors.light.sun})}}function toggleTheme(){var e=document.body.classList.contains("dark-theme"),t=!e;console.log("Toggling theme from ".concat(e?"dark":"light"," to ").concat(t?"dark":"light")),t?(document.body.classList.add("dark-theme"),localStorage.setItem("theme","dark"),console.log("Switched to dark theme - should show moon, hide sun")):(document.body.classList.remove("dark-theme"),localStorage.setItem("theme","light"),console.log("Switched to light theme - should show sun, hide moon")),updateThemeIcons(t),updateIconColors(t),updateThemeButtonText(),setTimeout(function(){var e=document.querySelectorAll(".fa-sun"),t=document.querySelectorAll(".fa-moon");console.log("After toggle: Sun icons visible: ".concat(Array.from(e).filter(function(e){return"none"!==e.style.display}).length)),console.log("After toggle: Moon icons visible: ".concat(Array.from(t).filter(function(e){return"none"!==e.style.display}).length))},100),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{isDark:t,theme:t?"dark":"light"}}))}function addThemeStyles(){if(!document.getElementById("theme-icon-styles")){var e=document.createElement("style");e.id="theme-icon-styles",e.textContent="\n            /* Theme icon base styles */\n            .theme-btn i, .float-theme i {\n                transition: all 0.3s ease !important;\n                font-size: 1.2rem !important;\n                display: inline-block !important;\n            }\n            \n            /* Ensure proper icon display */\n            .fa-sun, .fa-moon {\n                display: inline-block !important;\n                transition: opacity 0.3s ease, visibility 0.3s ease !important;\n            }\n            \n            /* Light theme - show sun, hide moon */\n            body:not(.dark-theme) .fa-sun {\n                display: inline-block !important;\n                visibility: visible !important;\n                opacity: 1 !important;\n                color: ".concat(themeColors.light.sun," !important;\n            }\n            \n            body:not(.dark-theme) .fa-moon {\n                display: none !important;\n                visibility: hidden !important;\n                opacity: 0 !important;\n                color: ").concat(themeColors.light.moon," !important;\n            }\n            \n            /* Dark theme - show moon, hide sun */\n            body.dark-theme .fa-sun {\n                display: none !important;\n                visibility: hidden !important;\n                opacity: 0 !important;\n                color: ").concat(themeColors.dark.sun," !important;\n            }\n            \n            body.dark-theme .fa-moon {\n                display: inline-block !important;\n                visibility: visible !important;\n                opacity: 1 !important;\n                color: ").concat(themeColors.dark.moon," !important;\n            }\n            \n            /* Theme text styling */\n            .theme-text {\n                transition: color 0.3s ease;\n                font-weight: 500;\n                margin-right: 8px;\n            }\n            \n            /* Theme button hover effects */\n            .theme-btn:hover i, .float-theme:hover i {\n                transform: scale(1.1);\n            }\n            \n            /* Floating theme button */\n            .float-theme {\n                background: var(--card-bg) !important;\n                border: 2px solid !important;\n                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;\n                transition: all 0.3s ease !important;\n            }\n            \n            body:not(.dark-theme) .float-theme {\n                border-color: ").concat(themeColors.light.sun," !important;\n                color: ").concat(themeColors.light.sun," !important;\n            }\n            \n            body.dark-theme .float-theme {\n                border-color: ").concat(themeColors.dark.moon," !important;\n                color: ").concat(themeColors.dark.moon," !important;\n            }\n        "),document.head.appendChild(e),console.log("Added theme icon styles")}}function forceIconVisibility(){var e=document.body.classList.contains("dark-theme");console.log("Force fixing icon visibility. Current theme:",e?"dark":"light"),document.querySelectorAll(".fa-sun, .fa-moon").forEach(function(e){e.style.cssText=""}),updateThemeIcons(e),updateIconColors(e)}document.addEventListener("DOMContentLoaded",function(){console.log("Initializing theme system..."),addThemeStyles(),initTheme(),setTimeout(forceIconVisibility,500),themeToggle?(themeToggle.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),console.log("Main theme button clicked"),toggleTheme(),setTimeout(forceIconVisibility,100)}),console.log("Main theme toggle button initialized")):console.warn("Main theme toggle button not found"),floatThemeToggle?(floatThemeToggle.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),console.log("Floating theme button clicked"),toggleTheme(),setTimeout(forceIconVisibility,100)}),console.log("Floating theme toggle button initialized")):console.warn("Floating theme toggle button not found"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){"system"===localStorage.getItem("theme")&&(console.log("System theme changed to:",e.matches?"dark":"light"),initTheme(),forceIconVisibility())}),window.addEventListener("languageChanged",function(){console.log("Language changed, updating theme button..."),updateThemeButtonText()})}),window.initTheme=initTheme,window.toggleTheme=toggleTheme,window.updateThemeButtonText=updateThemeButtonText,window.updateIconColors=updateIconColors,window.forceIconVisibility=forceIconVisibility,window.themeDebug={getCurrentTheme:function(){var e=document.body.classList.contains("dark-theme");return{theme:e?"dark":"light",colors:e?themeColors.dark:themeColors.light,saved:localStorage.getItem("theme")||"light"}},forceTheme:function(e){console.log("Debug: Forcing theme to",e),"dark"===e?(document.body.classList.add("dark-theme"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark-theme"),localStorage.setItem("theme","light")),forceIconVisibility(),updateThemeButtonText()},checkIcons:function(){var e=document.querySelectorAll(".fa-sun"),t=document.querySelectorAll(".fa-moon"),o=Array.from(e).filter(function(e){return"none"!==e.style.display&&"hidden"!==e.style.visibility&&"0"!==e.style.opacity}).length,n=Array.from(t).filter(function(e){return"none"!==e.style.display&&"hidden"!==e.style.visibility&&"0"!==e.style.opacity}).length;return console.log("Sun icons: ".concat(e.length," total, ").concat(o," visible")),console.log("Moon icons: ".concat(t.length," total, ").concat(n," visible")),e.forEach(function(e,t){console.log("Sun ".concat(t+1,": display=").concat(e.style.display,", visibility=").concat(e.style.visibility,", opacity=").concat(e.style.opacity))}),t.forEach(function(e,t){console.log("Moon ".concat(t+1,": display=").concat(e.style.display,", visibility=").concat(e.style.visibility,", opacity=").concat(e.style.opacity))}),{sun:{total:e.length,visible:o},moon:{total:t.length,visible:n}}},resetIcons:function(){console.log("Debug: Resetting all icon styles"),document.querySelectorAll(".fa-sun, .fa-moon").forEach(function(e){e.style.cssText=""}),forceIconVisibility()}};
//# sourceMappingURL=theme.min.js.map
