{"version":3,"sources":["theme.js"],"names":["themeToggle","document","getElementById","floatThemeToggle","themeColors","light","sun","moon","dark","initTheme","savedTheme","localStorage","getItem","prefersDark","window","matchMedia","matches","currentTheme","body","classList","add","updateThemeIcons","updateIconColors","remove","updateThemeButtonText","isDark","console","log","sunIcons","querySelectorAll","moonIcons","length","forEach","icon","style","display","visibility","opacity","setAttribute","colors","color","transition","themeButtons","btn","borderColor","themeTextElements","contains","currentLang","themeText","textContent","toggleTheme","wasDark","isNowDark","setItem","setTimeout","Array","from","filter","i","dispatchEvent","CustomEvent","detail","theme","addThemeStyles","createElement","id","head","appendChild","forceIconVisibility","cssText","addEventListener","e","preventDefault","stopPropagation","warn","darkModeMediaQuery","themeDebug","getCurrentTheme","saved","forceTheme","checkIcons","visibleSun","visibleMoon","total","visible","resetIcons"],"mappings":"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","sourcesContent":["// theme.js - Theme switching functionality with colored FontAwesome icons\r\n\r\nconst themeToggle = document.getElementById('themeToggle');\r\nconst floatThemeToggle = document.getElementById('floatThemeToggle');\r\n\r\n// Colors configuration\r\nconst themeColors = {\r\n    light: {\r\n        sun: '#d4af37', // ذهبي للشمس في الوضع الفاتح\r\n        moon: '#666666'  // رمادي للقمر في الوضع الفاتح\r\n    },\r\n    dark: {\r\n        sun: '#666666',  // رمادي للشمس في الوضع الداكن\r\n        moon: '#f0f0f0'  // رمادي فاتح/أبيض للقمر في الوضع الداكن\r\n    }\r\n};\r\n\r\n// Initialize theme\r\nfunction initTheme() {\r\n    const savedTheme = localStorage.getItem('theme') || 'light';\r\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n    \r\n    // Use saved theme, or system preference, or default to light\r\n    let currentTheme;\r\n    \r\n    if (savedTheme === 'system') {\r\n        currentTheme = prefersDark ? 'dark' : 'light';\r\n    } else {\r\n        currentTheme = savedTheme;\r\n    }\r\n    \r\n    // Apply theme\r\n    if (currentTheme === 'dark') {\r\n        document.body.classList.add('dark-theme');\r\n        updateThemeIcons(true);\r\n        updateIconColors(true);\r\n    } else {\r\n        document.body.classList.remove('dark-theme');\r\n        updateThemeIcons(false);\r\n        updateIconColors(false);\r\n    }\r\n    \r\n    // Update theme button text based on current language\r\n    updateThemeButtonText();\r\n    \r\n    return currentTheme;\r\n}\r\n\r\n// Update theme icons visibility - FIXED VERSION\r\nfunction updateThemeIcons(isDark) {\r\n    console.log('Updating theme icons. Is dark?', isDark);\r\n    \r\n    // FIRST: Always show both icons initially, then hide/show based on theme\r\n    const sunIcons = document.querySelectorAll('.fa-sun');\r\n    const moonIcons = document.querySelectorAll('.fa-moon');\r\n    \r\n    console.log(`Found ${sunIcons.length} sun icons and ${moonIcons.length} moon icons`);\r\n    \r\n    // SIMPLE APPROACH: Just toggle visibility\r\n    sunIcons.forEach(icon => {\r\n        if (isDark) {\r\n            icon.style.display = 'none';\r\n            icon.style.visibility = 'hidden';\r\n            icon.style.opacity = '0';\r\n        } else {\r\n            icon.style.display = 'inline-block';\r\n            icon.style.visibility = 'visible';\r\n            icon.style.opacity = '1';\r\n        }\r\n    });\r\n    \r\n    moonIcons.forEach(icon => {\r\n        if (isDark) {\r\n            icon.style.display = 'inline-block';\r\n            icon.style.visibility = 'visible';\r\n            icon.style.opacity = '1';\r\n        } else {\r\n            icon.style.display = 'none';\r\n            icon.style.visibility = 'hidden';\r\n            icon.style.opacity = '0';\r\n        }\r\n    });\r\n    \r\n    // BETTER APPROACH: Use data attributes\r\n    sunIcons.forEach(icon => {\r\n        icon.setAttribute('data-theme', isDark ? 'hidden' : 'visible');\r\n    });\r\n    \r\n    moonIcons.forEach(icon => {\r\n        icon.setAttribute('data-theme', isDark ? 'visible' : 'hidden');\r\n    });\r\n}\r\n\r\n// Update icon colors based on theme\r\nfunction updateIconColors(isDark) {\r\n    const colors = isDark ? themeColors.dark : themeColors.light;\r\n    \r\n    // Update sun icons color - always update even if hidden\r\n    document.querySelectorAll('.fa-sun').forEach(icon => {\r\n        icon.style.color = colors.sun;\r\n        icon.style.transition = 'color 0.3s ease, opacity 0.3s ease';\r\n    });\r\n    \r\n    // Update moon icons color - always update even if hidden\r\n    document.querySelectorAll('.fa-moon').forEach(icon => {\r\n        icon.style.color = colors.moon;\r\n        icon.style.transition = 'color 0.3s ease, opacity 0.3s ease';\r\n    });\r\n    \r\n    // Update theme toggle button colors\r\n    const themeButtons = document.querySelectorAll('.theme-btn, .float-theme');\r\n    themeButtons.forEach(btn => {\r\n        btn.style.transition = 'all 0.3s ease';\r\n        \r\n        if (isDark) {\r\n            // Dark theme button styling\r\n            btn.style.color = colors.moon;\r\n            btn.style.borderColor = colors.moon;\r\n        } else {\r\n            // Light theme button styling\r\n            btn.style.color = colors.sun;\r\n            btn.style.borderColor = colors.sun;\r\n        }\r\n    });\r\n}\r\n\r\n// Update theme button text\r\nfunction updateThemeButtonText() {\r\n    const themeTextElements = document.querySelectorAll('.theme-text');\r\n    if (themeTextElements.length === 0) return;\r\n    \r\n    const isDark = document.body.classList.contains('dark-theme');\r\n    const currentLang = localStorage.getItem('language') || 'ar';\r\n    \r\n    themeTextElements.forEach(themeText => {\r\n        // Update text\r\n        if (currentLang === 'ar') {\r\n            themeText.textContent = isDark ? 'داكن' : 'فاتح';\r\n        } else {\r\n            themeText.textContent = isDark ? 'Dark' : 'Light';\r\n        }\r\n        \r\n        // Update text color based on theme\r\n        if (isDark) {\r\n            themeText.style.color = themeColors.dark.moon;\r\n        } else {\r\n            themeText.style.color = themeColors.light.sun;\r\n        }\r\n    });\r\n}\r\n\r\n// Toggle theme\r\nfunction toggleTheme() {\r\n    const wasDark = document.body.classList.contains('dark-theme');\r\n    const isNowDark = !wasDark;\r\n    \r\n    console.log(`Toggling theme from ${wasDark ? 'dark' : 'light'} to ${isNowDark ? 'dark' : 'light'}`);\r\n    \r\n    if (isNowDark) {\r\n        // Switch to dark theme\r\n        document.body.classList.add('dark-theme');\r\n        localStorage.setItem('theme', 'dark');\r\n        console.log('Switched to dark theme - should show moon, hide sun');\r\n    } else {\r\n        // Switch to light theme\r\n        document.body.classList.remove('dark-theme');\r\n        localStorage.setItem('theme', 'light');\r\n        console.log('Switched to light theme - should show sun, hide moon');\r\n    }\r\n    \r\n    // Update UI elements\r\n    updateThemeIcons(isNowDark);\r\n    updateIconColors(isNowDark);\r\n    updateThemeButtonText();\r\n    \r\n    // Log icon status for debugging\r\n    setTimeout(() => {\r\n        const sunIcons = document.querySelectorAll('.fa-sun');\r\n        const moonIcons = document.querySelectorAll('.fa-moon');\r\n        console.log(`After toggle: Sun icons visible: ${Array.from(sunIcons).filter(i => i.style.display !== 'none').length}`);\r\n        console.log(`After toggle: Moon icons visible: ${Array.from(moonIcons).filter(i => i.style.display !== 'none').length}`);\r\n    }, 100);\r\n    \r\n    // Trigger custom event for theme change\r\n    window.dispatchEvent(new CustomEvent('themeChanged', { \r\n        detail: { \r\n            isDark: isNowDark,\r\n            theme: isNowDark ? 'dark' : 'light'\r\n        } \r\n    }));\r\n}\r\n\r\n// Add CSS styles for theme icons - SIMPLIFIED VERSION\r\nfunction addThemeStyles() {\r\n    if (!document.getElementById('theme-icon-styles')) {\r\n        const style = document.createElement('style');\r\n        style.id = 'theme-icon-styles';\r\n        style.textContent = `\r\n            /* Theme icon base styles */\r\n            .theme-btn i, .float-theme i {\r\n                transition: all 0.3s ease !important;\r\n                font-size: 1.2rem !important;\r\n                display: inline-block !important;\r\n            }\r\n            \r\n            /* Ensure proper icon display */\r\n            .fa-sun, .fa-moon {\r\n                display: inline-block !important;\r\n                transition: opacity 0.3s ease, visibility 0.3s ease !important;\r\n            }\r\n            \r\n            /* Light theme - show sun, hide moon */\r\n            body:not(.dark-theme) .fa-sun {\r\n                display: inline-block !important;\r\n                visibility: visible !important;\r\n                opacity: 1 !important;\r\n                color: ${themeColors.light.sun} !important;\r\n            }\r\n            \r\n            body:not(.dark-theme) .fa-moon {\r\n                display: none !important;\r\n                visibility: hidden !important;\r\n                opacity: 0 !important;\r\n                color: ${themeColors.light.moon} !important;\r\n            }\r\n            \r\n            /* Dark theme - show moon, hide sun */\r\n            body.dark-theme .fa-sun {\r\n                display: none !important;\r\n                visibility: hidden !important;\r\n                opacity: 0 !important;\r\n                color: ${themeColors.dark.sun} !important;\r\n            }\r\n            \r\n            body.dark-theme .fa-moon {\r\n                display: inline-block !important;\r\n                visibility: visible !important;\r\n                opacity: 1 !important;\r\n                color: ${themeColors.dark.moon} !important;\r\n            }\r\n            \r\n            /* Theme text styling */\r\n            .theme-text {\r\n                transition: color 0.3s ease;\r\n                font-weight: 500;\r\n                margin-right: 8px;\r\n            }\r\n            \r\n            /* Theme button hover effects */\r\n            .theme-btn:hover i, .float-theme:hover i {\r\n                transform: scale(1.1);\r\n            }\r\n            \r\n            /* Floating theme button */\r\n            .float-theme {\r\n                background: var(--card-bg) !important;\r\n                border: 2px solid !important;\r\n                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;\r\n                transition: all 0.3s ease !important;\r\n            }\r\n            \r\n            body:not(.dark-theme) .float-theme {\r\n                border-color: ${themeColors.light.sun} !important;\r\n                color: ${themeColors.light.sun} !important;\r\n            }\r\n            \r\n            body.dark-theme .float-theme {\r\n                border-color: ${themeColors.dark.moon} !important;\r\n                color: ${themeColors.dark.moon} !important;\r\n            }\r\n        `;\r\n        document.head.appendChild(style);\r\n        console.log('Added theme icon styles');\r\n    }\r\n}\r\n\r\n// Emergency fix for icon visibility\r\nfunction forceIconVisibility() {\r\n    const isDark = document.body.classList.contains('dark-theme');\r\n    console.log('Force fixing icon visibility. Current theme:', isDark ? 'dark' : 'light');\r\n    \r\n    // Remove all inline styles that might be hiding icons\r\n    document.querySelectorAll('.fa-sun, .fa-moon').forEach(icon => {\r\n        icon.style.cssText = ''; // Clear all inline styles\r\n    });\r\n    \r\n    // Re-apply theme\r\n    updateThemeIcons(isDark);\r\n    updateIconColors(isDark);\r\n}\r\n\r\n// Initialize on DOM loaded\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    console.log('Initializing theme system...');\r\n    \r\n    // Add theme styles\r\n    addThemeStyles();\r\n    \r\n    // Initialize theme\r\n    initTheme();\r\n    \r\n    // Emergency fix after a short delay\r\n    setTimeout(forceIconVisibility, 500);\r\n    \r\n    // Add event listeners to theme toggles\r\n    if (themeToggle) {\r\n        themeToggle.addEventListener('click', function(e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            console.log('Main theme button clicked');\r\n            toggleTheme();\r\n            // Force fix after toggle\r\n            setTimeout(forceIconVisibility, 100);\r\n        });\r\n        console.log('Main theme toggle button initialized');\r\n    } else {\r\n        console.warn('Main theme toggle button not found');\r\n    }\r\n    \r\n    if (floatThemeToggle) {\r\n        floatThemeToggle.addEventListener('click', function(e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            console.log('Floating theme button clicked');\r\n            toggleTheme();\r\n            // Force fix after toggle\r\n            setTimeout(forceIconVisibility, 100);\r\n        });\r\n        console.log('Floating theme toggle button initialized');\r\n    } else {\r\n        console.warn('Floating theme toggle button not found');\r\n    }\r\n    \r\n    // Listen for system theme changes\r\n    const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n    darkModeMediaQuery.addEventListener('change', function(e) {\r\n        const savedTheme = localStorage.getItem('theme');\r\n        if (savedTheme === 'system') {\r\n            console.log('System theme changed to:', e.matches ? 'dark' : 'light');\r\n            initTheme();\r\n            forceIconVisibility();\r\n        }\r\n    });\r\n    \r\n    // Listen for language changes to update button text\r\n    window.addEventListener('languageChanged', function() {\r\n        console.log('Language changed, updating theme button...');\r\n        updateThemeButtonText();\r\n    });\r\n});\r\n\r\n// Make functions available globally\r\nwindow.initTheme = initTheme;\r\nwindow.toggleTheme = toggleTheme;\r\nwindow.updateThemeButtonText = updateThemeButtonText;\r\nwindow.updateIconColors = updateIconColors;\r\nwindow.forceIconVisibility = forceIconVisibility;\r\n\r\n// Debug function\r\nwindow.themeDebug = {\r\n    getCurrentTheme: function() {\r\n        const isDark = document.body.classList.contains('dark-theme');\r\n        return {\r\n            theme: isDark ? 'dark' : 'light',\r\n            colors: isDark ? themeColors.dark : themeColors.light,\r\n            saved: localStorage.getItem('theme') || 'light'\r\n        };\r\n    },\r\n    forceTheme: function(theme) {\r\n        console.log('Debug: Forcing theme to', theme);\r\n        if (theme === 'dark') {\r\n            document.body.classList.add('dark-theme');\r\n            localStorage.setItem('theme', 'dark');\r\n        } else {\r\n            document.body.classList.remove('dark-theme');\r\n            localStorage.setItem('theme', 'light');\r\n        }\r\n        forceIconVisibility();\r\n        updateThemeButtonText();\r\n    },\r\n    checkIcons: function() {\r\n        const sunIcons = document.querySelectorAll('.fa-sun');\r\n        const moonIcons = document.querySelectorAll('.fa-moon');\r\n        \r\n        const visibleSun = Array.from(sunIcons).filter(i => \r\n            i.style.display !== 'none' && \r\n            i.style.visibility !== 'hidden' && \r\n            i.style.opacity !== '0'\r\n        ).length;\r\n        \r\n        const visibleMoon = Array.from(moonIcons).filter(i => \r\n            i.style.display !== 'none' && \r\n            i.style.visibility !== 'hidden' && \r\n            i.style.opacity !== '0'\r\n        ).length;\r\n        \r\n        console.log(`Sun icons: ${sunIcons.length} total, ${visibleSun} visible`);\r\n        console.log(`Moon icons: ${moonIcons.length} total, ${visibleMoon} visible`);\r\n        \r\n        sunIcons.forEach((icon, i) => {\r\n            console.log(`Sun ${i+1}: display=${icon.style.display}, visibility=${icon.style.visibility}, opacity=${icon.style.opacity}`);\r\n        });\r\n        \r\n        moonIcons.forEach((icon, i) => {\r\n            console.log(`Moon ${i+1}: display=${icon.style.display}, visibility=${icon.style.visibility}, opacity=${icon.style.opacity}`);\r\n        });\r\n        \r\n        return { sun: { total: sunIcons.length, visible: visibleSun }, \r\n                moon: { total: moonIcons.length, visible: visibleMoon } };\r\n    },\r\n    resetIcons: function() {\r\n        console.log('Debug: Resetting all icon styles');\r\n        document.querySelectorAll('.fa-sun, .fa-moon').forEach(icon => {\r\n            icon.style.cssText = '';\r\n        });\r\n        forceIconVisibility();\r\n    }\r\n};"],"file":"theme.dev.js"}