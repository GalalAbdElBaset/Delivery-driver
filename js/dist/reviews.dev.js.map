{"version":3,"sources":["reviews.js"],"names":["pageTransition","document","querySelector","navLinks","burger","themeToggle","floatThemeToggle","langBtn","langDropdown","currentLang","scrollToTop","reviewForm","starsInput","querySelectorAll","ratingValue","loadMoreBtn","reviewsGrid","filterButtons","searchBox","WHATSAPP_CONFIG","PHONE_NUMBER","BUSINESS_NUMBER","DEFAULT_MESSAGE","addEventListener","setTimeout","classList","add","style","display","getElementById","textContent","Date","getFullYear","initNavigation","initThemeSwitcher","initLanguageSwitcher","initReviewForm","initReviewsFilter","initScrollToTop","initAnimations","displayLocalReviews","toggle","contains","body","overflow","navLinkItems","forEach","link","remove","event","target","closest","savedTheme","localStorage","getItem","setTheme","currentTheme","newTheme","theme","icon","className","text","innerHTML","setItem","savedLang","setLanguage","e","stopPropagation","langOptions","option","preventDefault","lang","getAttribute","documentElement","dir","updateTextsForEnglish","updateTextsForArabic","pageTitle","companyName","el","includes","companySlogan","initStarRating","formData","name","value","trim","email","service","rating","parseInt","content","date","toLocaleDateString","time","toLocaleTimeString","timestamp","now","validateReviewForm","showReviewConfirmation","sendReviewToWhatsApp","length","star","updateStarsDisplay","previewStarsDisplay","currentValue","index","starElement","showAlert","isValidEmail","re","test","onConfirm","confirmationModal","createConfirmationModal","appendChild","modal","createElement","serviceName","getServiceName","stars","repeat","addModalStyles","removeModal","opacity","styles","id","head","serviceId","services","whatsappMessage","createWhatsAppMessage","encodedMessage","encodeURIComponent","whatsappUrl","replace","saveReviewLocally","window","open","resetReviewForm","dateTime","location","href","review","savedReviews","JSON","parse","reviewWithId","status","sent_via","sent_at","toISOString","push","stringify","console","log","error","addReviewsCounter","count","footer","counter","parentNode","insertBefore","reset","message","type","existingAlert","alert","getAlertIcon","animation","button","btn","filterValue","filterReviews","searchTerm","toLowerCase","searchReviews","loadMoreReviews","filter","reviewCards","card","transform","term","disabled","newReviews","avatar","reviewCard","createReviewCard","setAttribute","starsHtml","i","Math","ceil","transition","scrollY","scrollTo","top","behavior","observerOptions","threshold","rootMargin","observer","IntersectionObserver","entries","entry","isIntersecting","animatedElements","observe","resizeTimer","clearTimeout","innerWidth","key","ctrlKey","phone"],"mappings":"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","sourcesContent":["// ================= DOM ELEMENTS =================\r\nconst pageTransition = document.querySelector('.page-transition');\r\nconst navLinks = document.querySelector('#navLinks');\r\nconst burger = document.querySelector('#burger');\r\nconst themeToggle = document.querySelector('#themeToggle');\r\nconst floatThemeToggle = document.querySelector('#floatThemeToggle');\r\nconst langBtn = document.querySelector('#langBtn');\r\nconst langDropdown = document.querySelector('#langDropdown');\r\nconst currentLang = document.querySelector('#currentLang');\r\nconst scrollToTop = document.querySelector('#scrollToTop');\r\nconst reviewForm = document.querySelector('#reviewForm');\r\nconst starsInput = document.querySelectorAll('.star-input');\r\nconst ratingValue = document.querySelector('#ratingValue');\r\nconst loadMoreBtn = document.querySelector('#loadMoreBtn');\r\nconst reviewsGrid = document.querySelector('#reviewsGrid');\r\nconst filterButtons = document.querySelectorAll('.filter-btn');\r\nconst searchBox = document.querySelector('.search-box input');\r\n\r\n// ================= WHATSAPP CONFIGURATION =================\r\nconst WHATSAPP_CONFIG = {\r\n    PHONE_NUMBER: '+21656471550',\r\n    BUSINESS_NUMBER: '+21656471550',\r\n    DEFAULT_MESSAGE: 'مرحباً، أود إرسال مراجعة جديدة:'\r\n};\r\n\r\n// ================= PAGE TRANSITION =================\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    // إخفاء انتقال الصفحة بعد التحميل\r\n    setTimeout(function() {\r\n        if (pageTransition) {\r\n            pageTransition.classList.add('hidden');\r\n        }\r\n    }, 800);\r\n    \r\n    setTimeout(function() {\r\n        if (pageTransition) {\r\n            pageTransition.style.display = 'none';\r\n        }\r\n    }, 1400);\r\n    \r\n    // تهيئة السنة الحالية في الفوتر\r\n    document.getElementById('currentYear').textContent = new Date().getFullYear();\r\n    \r\n    // تهيئة جميع الوظائف\r\n    initNavigation();\r\n    initThemeSwitcher();\r\n    initLanguageSwitcher();\r\n    initReviewForm();\r\n    initReviewsFilter();\r\n    initScrollToTop();\r\n    initAnimations();\r\n    \r\n    // عرض المراجعات المحفوظة محلياً\r\n    displayLocalReviews();\r\n});\r\n\r\n// ================= NAVIGATION MENU =================\r\nfunction initNavigation() {\r\n    if (burger) {\r\n        burger.addEventListener('click', function() {\r\n            this.classList.toggle('active');\r\n            navLinks.classList.toggle('active');\r\n            \r\n            if (navLinks.classList.contains('active')) {\r\n                document.body.style.overflow = 'hidden';\r\n            } else {\r\n                document.body.style.overflow = '';\r\n            }\r\n        });\r\n    }\r\n    \r\n    const navLinkItems = document.querySelectorAll('.nav-link');\r\n    navLinkItems.forEach(link => {\r\n        link.addEventListener('click', function() {\r\n            if (navLinks.classList.contains('active')) {\r\n                navLinks.classList.remove('active');\r\n                burger.classList.remove('active');\r\n                document.body.style.overflow = '';\r\n            }\r\n        });\r\n    });\r\n    \r\n    document.addEventListener('click', function(event) {\r\n        if (navLinks.classList.contains('active') && \r\n            !event.target.closest('.nav-links') && \r\n            !event.target.closest('.burger')) {\r\n            navLinks.classList.remove('active');\r\n            burger.classList.remove('active');\r\n            document.body.style.overflow = '';\r\n        }\r\n    });\r\n}\r\n\r\n// ================= THEME SWITCHER =================\r\nfunction initThemeSwitcher() {\r\n    const savedTheme = localStorage.getItem('theme') || 'light';\r\n    setTheme(savedTheme);\r\n    \r\n    if (themeToggle) {\r\n        themeToggle.addEventListener('click', function() {\r\n            const currentTheme = document.body.classList.contains('dark-theme') ? 'dark' : 'light';\r\n            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\r\n            setTheme(newTheme);\r\n        });\r\n    }\r\n    \r\n    if (floatThemeToggle) {\r\n        floatThemeToggle.addEventListener('click', function() {\r\n            const currentTheme = document.body.classList.contains('dark-theme') ? 'dark' : 'light';\r\n            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\r\n            setTheme(newTheme);\r\n        });\r\n    }\r\n}\r\n\r\nfunction setTheme(theme) {\r\n    if (theme === 'dark') {\r\n        document.body.classList.add('dark-theme');\r\n        document.querySelectorAll('.theme-btn i').forEach(icon => {\r\n            icon.className = 'fas fa-moon';\r\n        });\r\n        document.querySelectorAll('.theme-text').forEach(text => {\r\n            text.textContent = 'داكن';\r\n        });\r\n        if (floatThemeToggle) {\r\n            floatThemeToggle.innerHTML = '<i class=\"fas fa-sun\"></i>';\r\n        }\r\n        localStorage.setItem('theme', 'dark');\r\n    } else {\r\n        document.body.classList.remove('dark-theme');\r\n        document.querySelectorAll('.theme-btn i').forEach(icon => {\r\n            icon.className = 'fas fa-sun';\r\n        });\r\n        document.querySelectorAll('.theme-text').forEach(text => {\r\n            text.textContent = 'فاتح';\r\n        });\r\n        if (floatThemeToggle) {\r\n            floatThemeToggle.innerHTML = '<i class=\"fas fa-moon\"></i>';\r\n        }\r\n        localStorage.setItem('theme', 'light');\r\n    }\r\n}\r\n\r\n// ================= LANGUAGE SWITCHER =================\r\nfunction initLanguageSwitcher() {\r\n    const savedLang = localStorage.getItem('language') || 'ar';\r\n    setLanguage(savedLang);\r\n    \r\n    if (langBtn) {\r\n        langBtn.addEventListener('click', function(e) {\r\n            e.stopPropagation();\r\n            langDropdown.classList.toggle('show');\r\n        });\r\n    }\r\n    \r\n    const langOptions = document.querySelectorAll('.lang-option-nav');\r\n    langOptions.forEach(option => {\r\n        option.addEventListener('click', function(e) {\r\n            e.preventDefault();\r\n            const lang = this.getAttribute('data-lang');\r\n            setLanguage(lang);\r\n            langDropdown.classList.remove('show');\r\n        });\r\n    });\r\n    \r\n    document.addEventListener('click', function() {\r\n        if (langDropdown.classList.contains('show')) {\r\n            langDropdown.classList.remove('show');\r\n        }\r\n    });\r\n    \r\n    if (langDropdown) {\r\n        langDropdown.addEventListener('click', function(e) {\r\n            e.stopPropagation();\r\n        });\r\n    }\r\n}\r\n\r\nfunction setLanguage(lang) {\r\n    if (lang === 'en') {\r\n        document.documentElement.dir = 'ltr';\r\n        document.documentElement.lang = 'en';\r\n        \r\n        if (currentLang) {\r\n            currentLang.textContent = 'English';\r\n        }\r\n        \r\n        updateTextsForEnglish();\r\n        \r\n        document.querySelectorAll('.lang-option-nav').forEach(option => {\r\n            option.classList.remove('active');\r\n            if (option.getAttribute('data-lang') === 'en') {\r\n                option.classList.add('active');\r\n            }\r\n        });\r\n    } else {\r\n        document.documentElement.dir = 'rtl';\r\n        document.documentElement.lang = 'ar';\r\n        \r\n        if (currentLang) {\r\n            currentLang.textContent = 'العربية';\r\n        }\r\n        \r\n        updateTextsForArabic();\r\n        \r\n        document.querySelectorAll('.lang-option-nav').forEach(option => {\r\n            option.classList.remove('active');\r\n            if (option.getAttribute('data-lang') === 'ar') {\r\n                option.classList.add('active');\r\n            }\r\n        });\r\n    }\r\n    \r\n    localStorage.setItem('language', lang);\r\n}\r\n\r\nfunction updateTextsForEnglish() {\r\n    const pageTitle = document.querySelector('title[data-i18n=\"reviews.pageTitle\"]');\r\n    if (pageTitle) pageTitle.textContent = 'Customer Reviews - Tn-QA Delivery';\r\n    \r\n    const companyName = document.querySelectorAll('[data-i18n=\"companyName\"]');\r\n    companyName.forEach(el => {\r\n        if (el.textContent.includes('Tn-QA Delivery')) return;\r\n        el.textContent = 'Tn-QA Delivery';\r\n    });\r\n    \r\n    const companySlogan = document.querySelectorAll('[data-i18n=\"companySlogan\"]');\r\n    companySlogan.forEach(el => {\r\n        el.textContent = 'Fast and Secure Delivery Service';\r\n    });\r\n    \r\n    // Add other translations as needed\r\n}\r\n\r\nfunction updateTextsForArabic() {\r\n    const pageTitle = document.querySelector('title[data-i18n=\"reviews.pageTitle\"]');\r\n    if (pageTitle) pageTitle.textContent = 'مراجعات العملاء - Tn-QA Delivery';\r\n    \r\n    const companyName = document.querySelectorAll('[data-i18n=\"companyName\"]');\r\n    companyName.forEach(el => {\r\n        el.textContent = 'Tn-QA Delivery';\r\n    });\r\n    \r\n    const companySlogan = document.querySelectorAll('[data-i18n=\"companySlogan\"]');\r\n    companySlogan.forEach(el => {\r\n        el.textContent = 'خدمة توصيل سريعة وآمنة';\r\n    });\r\n    \r\n    // Add other translations as needed\r\n}\r\n\r\n// ================= REVIEW FORM WITH WHATSAPP =================\r\nfunction initReviewForm() {\r\n    // إعداد نجوم التقييم مع تحسينات\r\n    initStarRating();\r\n    \r\n    // معالجة إرسال النموذج إلى واتساب\r\n    if (reviewForm) {\r\n        reviewForm.addEventListener('submit', async function(e) {\r\n            e.preventDefault();\r\n            \r\n            // جمع البيانات\r\n            const formData = {\r\n                name: document.getElementById('reviewerName').value.trim(),\r\n                email: document.getElementById('reviewerEmail').value.trim(),\r\n                service: document.getElementById('reviewService').value,\r\n                rating: ratingValue ? parseInt(ratingValue.value) : 0,\r\n                content: document.getElementById('reviewContent').value.trim(),\r\n                date: new Date().toLocaleDateString('ar-SA'),\r\n                time: new Date().toLocaleTimeString('ar-SA'),\r\n                timestamp: Date.now()\r\n            };\r\n            \r\n            // التحقق من البيانات\r\n            if (!validateReviewForm(formData)) {\r\n                return;\r\n            }\r\n            \r\n            // إظهار نافذة تأكيد قبل الإرسال\r\n            showReviewConfirmation(formData, () => {\r\n                // إذا وافق المستخدم، نرسل إلى واتساب\r\n                sendReviewToWhatsApp(formData);\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nfunction initStarRating() {\r\n    if (!starsInput || starsInput.length === 0) return;\r\n    \r\n    // تهيئة النجوم\r\n    starsInput.forEach(star => {\r\n        // النقر على نجمة\r\n        star.addEventListener('click', function() {\r\n            const value = parseInt(this.getAttribute('data-value'));\r\n            updateStarsDisplay(value);\r\n            if (ratingValue) {\r\n                ratingValue.value = value;\r\n            }\r\n        });\r\n        \r\n        // التحويم فوق نجمة\r\n        star.addEventListener('mouseover', function() {\r\n            const value = parseInt(this.getAttribute('data-value'));\r\n            previewStarsDisplay(value);\r\n        });\r\n        \r\n        // مغادرة النجوم\r\n        star.addEventListener('mouseout', function() {\r\n            const currentValue = ratingValue ? parseInt(ratingValue.value) : 0;\r\n            updateStarsDisplay(currentValue);\r\n        });\r\n    });\r\n}\r\n\r\nfunction updateStarsDisplay(rating) {\r\n    starsInput.forEach((star, index) => {\r\n        const starElement = star.querySelector('i') || star;\r\n        if (index < rating) {\r\n            starElement.className = 'fas fa-star';\r\n            star.classList.add('active');\r\n        } else {\r\n            starElement.className = 'far fa-star';\r\n            star.classList.remove('active');\r\n        }\r\n    });\r\n}\r\n\r\nfunction previewStarsDisplay(rating) {\r\n    starsInput.forEach((star, index) => {\r\n        const starElement = star.querySelector('i') || star;\r\n        starElement.className = index < rating ? 'fas fa-star' : 'far fa-star';\r\n    });\r\n}\r\n\r\nfunction validateReviewForm(formData) {\r\n    // التحقق من التقييم\r\n    if (formData.rating < 1 || formData.rating > 5) {\r\n        showAlert('الرجاء اختيار تقييم من 1 إلى 5 نجوم', 'error');\r\n        return false;\r\n    }\r\n    \r\n    // التحقق من الحقول المطلوبة\r\n    if (!formData.name || !formData.content || !formData.service) {\r\n        showAlert('الرجاء ملء جميع الحقول المطلوبة', 'error');\r\n        return false;\r\n    }\r\n    \r\n    // التحقق من البريد الإلكتروني (إذا تم إدخاله)\r\n    if (formData.email && !isValidEmail(formData.email)) {\r\n        showAlert('البريد الإلكتروني غير صحيح', 'error');\r\n        return false;\r\n    }\r\n    \r\n    return true;\r\n}\r\n\r\nfunction isValidEmail(email) {\r\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return re.test(email);\r\n}\r\n\r\nfunction showReviewConfirmation(formData, onConfirm) {\r\n    // إنشاء نافذة تأكيد مخصصة\r\n    const confirmationModal = createConfirmationModal(formData, onConfirm);\r\n    document.body.appendChild(confirmationModal);\r\n    \r\n    // منع التمرير\r\n    document.body.style.overflow = 'hidden';\r\n}\r\n\r\nfunction createConfirmationModal(formData, onConfirm) {\r\n    const modal = document.createElement('div');\r\n    modal.className = 'whatsapp-confirmation-modal';\r\n    \r\n    const serviceName = getServiceName(formData.service);\r\n    const stars = '★'.repeat(formData.rating) + '☆'.repeat(5 - formData.rating);\r\n    \r\n    modal.innerHTML = `\r\n        <div class=\"modal-overlay\"></div>\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h3><i class=\"fab fa-whatsapp\"></i> تأكيد إرسال المراجعة</h3>\r\n                <button class=\"modal-close\">&times;</button>\r\n            </div>\r\n            \r\n            <div class=\"modal-body\">\r\n                <div class=\"confirmation-message\">\r\n                    <p>سيتم إرسال مراجعتك عبر واتساب إلى الرقم:</p>\r\n                    <p class=\"phone-number\">${WHATSAPP_CONFIG.PHONE_NUMBER}</p>\r\n                    \r\n                    <div class=\"review-preview\">\r\n                        <div class=\"preview-item\">\r\n                            <span class=\"preview-label\">الاسم:</span>\r\n                            <span class=\"preview-value\">${formData.name}</span>\r\n                        </div>\r\n                        ${formData.email ? `\r\n                        <div class=\"preview-item\">\r\n                            <span class=\"preview-label\">البريد:</span>\r\n                            <span class=\"preview-value\">${formData.email}</span>\r\n                        </div>\r\n                        ` : ''}\r\n                        <div class=\"preview-item\">\r\n                            <span class=\"preview-label\">الخدمة:</span>\r\n                            <span class=\"preview-value\">${serviceName}</span>\r\n                        </div>\r\n                        <div class=\"preview-item\">\r\n                            <span class=\"preview-label\">التقييم:</span>\r\n                            <span class=\"preview-value gold-text\">${stars}</span>\r\n                        </div>\r\n                        <div class=\"preview-item full-width\">\r\n                            <span class=\"preview-label\">المراجعة:</span>\r\n                            <div class=\"preview-content\">${formData.content}</div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"whatsapp-notice\">\r\n                        <i class=\"fas fa-info-circle\"></i>\r\n                        <p>سيتم فتح واتساب ويتم إعداد الرسالة تلقائياً. تحتاج فقط إلى النقر على إرسال.</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"modal-footer\">\r\n                <button class=\"btn secondary-btn cancel-btn\">إلغاء</button>\r\n                <button class=\"btn primary-btn confirm-btn\">\r\n                    <i class=\"fab fa-whatsapp\"></i> إرسال عبر واتساب\r\n                </button>\r\n            </div>\r\n        </div>\r\n    `;\r\n    \r\n    // إضافة CSS للمودال\r\n    addModalStyles();\r\n    \r\n    // إضافة أحداث\r\n    modal.querySelector('.modal-close').addEventListener('click', () => {\r\n        removeModal(modal);\r\n    });\r\n    \r\n    modal.querySelector('.modal-overlay').addEventListener('click', () => {\r\n        removeModal(modal);\r\n    });\r\n    \r\n    modal.querySelector('.cancel-btn').addEventListener('click', () => {\r\n        removeModal(modal);\r\n    });\r\n    \r\n    modal.querySelector('.confirm-btn').addEventListener('click', () => {\r\n        removeModal(modal);\r\n        onConfirm();\r\n    });\r\n    \r\n    return modal;\r\n}\r\n\r\nfunction removeModal(modal) {\r\n    modal.style.opacity = '0';\r\n    setTimeout(() => {\r\n        modal.remove();\r\n        document.body.style.overflow = '';\r\n    }, 300);\r\n}\r\n\r\nfunction addModalStyles() {\r\n    if (document.querySelector('#whatsapp-modal-styles')) return;\r\n    \r\n    const styles = document.createElement('style');\r\n    styles.id = 'whatsapp-modal-styles';\r\n    styles.textContent = `\r\n        .whatsapp-confirmation-modal {\r\n            position: fixed;\r\n            top: 0;\r\n            right: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            z-index: 9999;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            animation: fadeIn 0.3s ease;\r\n        }\r\n        \r\n        @keyframes fadeIn {\r\n            from { opacity: 0; }\r\n            to { opacity: 1; }\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .modal-overlay {\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            background: rgba(0, 0, 0, 0.7);\r\n            backdrop-filter: blur(5px);\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .modal-content {\r\n            position: relative;\r\n            background: var(--white);\r\n            border-radius: var(--radius-xl);\r\n            width: 90%;\r\n            max-width: 500px;\r\n            max-height: 90vh;\r\n            overflow-y: auto;\r\n            box-shadow: var(--shadow-lg);\r\n            animation: slideUp 0.3s ease;\r\n            border: 2px solid var(--gold);\r\n        }\r\n        \r\n        body.dark-theme .whatsapp-confirmation-modal .modal-content {\r\n            background: #1e1e1e;\r\n        }\r\n        \r\n        @keyframes slideUp {\r\n            from {\r\n                opacity: 0;\r\n                transform: translateY(50px);\r\n            }\r\n            to {\r\n                opacity: 1;\r\n                transform: translateY(0);\r\n            }\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .modal-header {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            padding: 20px;\r\n            border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);\r\n            color: white;\r\n            border-radius: var(--radius-xl) var(--radius-xl) 0 0;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .modal-header h3 {\r\n            margin: 0;\r\n            display: flex;\r\n            align-items: center;\r\n            gap: 10px;\r\n            color: white;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .modal-close {\r\n            background: rgba(255, 255, 255, 0.2);\r\n            border: none;\r\n            color: white;\r\n            font-size: 1.5rem;\r\n            width: 40px;\r\n            height: 40px;\r\n            border-radius: 50%;\r\n            cursor: pointer;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            transition: all 0.2s;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .modal-close:hover {\r\n            background: rgba(255, 255, 255, 0.3);\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .modal-body {\r\n            padding: 20px;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .confirmation-message {\r\n            text-align: center;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .phone-number {\r\n            font-size: 1.3rem;\r\n            font-weight: bold;\r\n            color: var(--gold);\r\n            margin: 10px 0 20px;\r\n            direction: ltr;\r\n            display: inline-block;\r\n            background: rgba(212, 175, 55, 0.1);\r\n            padding: 8px 15px;\r\n            border-radius: var(--radius-md);\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .review-preview {\r\n            background: var(--gray-light);\r\n            border-radius: var(--radius-md);\r\n            padding: 15px;\r\n            margin: 20px 0;\r\n            text-align: right;\r\n        }\r\n        \r\n        body.dark-theme .whatsapp-confirmation-modal .review-preview {\r\n            background: #2d2d2d;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .preview-item {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            margin-bottom: 10px;\r\n            padding-bottom: 10px;\r\n            border-bottom: 1px dashed rgba(0, 0, 0, 0.1);\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .preview-item:last-child {\r\n            border-bottom: none;\r\n            margin-bottom: 0;\r\n            padding-bottom: 0;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .preview-item.full-width {\r\n            flex-direction: column;\r\n            align-items: flex-start;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .preview-label {\r\n            font-weight: bold;\r\n            color: var(--black);\r\n            min-width: 80px;\r\n        }\r\n        \r\n        body.dark-theme .whatsapp-confirmation-modal .preview-label {\r\n            color: #fff;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .preview-value {\r\n            color: var(--gray-dark);\r\n            text-align: left;\r\n            flex: 1;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .preview-content {\r\n            background: var(--white);\r\n            padding: 10px;\r\n            border-radius: var(--radius-sm);\r\n            margin-top: 5px;\r\n            border: 1px solid rgba(0, 0, 0, 0.1);\r\n            max-height: 150px;\r\n            overflow-y: auto;\r\n            text-align: right;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        body.dark-theme .whatsapp-confirmation-modal .preview-content {\r\n            background: #1a1a1a;\r\n            color: #e0e0e0;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .whatsapp-notice {\r\n            background: rgba(37, 211, 102, 0.1);\r\n            border: 1px solid rgba(37, 211, 102, 0.2);\r\n            border-radius: var(--radius-md);\r\n            padding: 15px;\r\n            margin-top: 20px;\r\n            display: flex;\r\n            align-items: flex-start;\r\n            gap: 10px;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .whatsapp-notice i {\r\n            color: #25D366;\r\n            font-size: 1.2rem;\r\n            margin-top: 2px;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .whatsapp-notice p {\r\n            margin: 0;\r\n            color: #155724;\r\n            font-size: 0.9rem;\r\n            text-align: right;\r\n        }\r\n        \r\n        body.dark-theme .whatsapp-confirmation-modal .whatsapp-notice p {\r\n            color: #d4edda;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .modal-footer {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            padding: 20px;\r\n            border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n            gap: 10px;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .modal-footer .btn {\r\n            flex: 1;\r\n            padding: 12px;\r\n            font-size: 0.95rem;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .confirm-btn {\r\n            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);\r\n            color: white;\r\n            border: none;\r\n        }\r\n        \r\n        .whatsapp-confirmation-modal .confirm-btn:hover {\r\n            background: linear-gradient(135deg, #128C7E 0%, #25D366 100%);\r\n            transform: translateY(-2px);\r\n        }\r\n        \r\n        @media (max-width: 576px) {\r\n            .whatsapp-confirmation-modal .modal-content {\r\n                width: 95%;\r\n                margin: 10px;\r\n            }\r\n            \r\n            .whatsapp-confirmation-modal .modal-footer {\r\n                flex-direction: column;\r\n            }\r\n            \r\n            .whatsapp-confirmation-modal .preview-item {\r\n                flex-direction: column;\r\n                align-items: flex-start;\r\n            }\r\n            \r\n            .whatsapp-confirmation-modal .preview-label {\r\n                margin-bottom: 5px;\r\n            }\r\n        }\r\n    `;\r\n    \r\n    document.head.appendChild(styles);\r\n}\r\n\r\nfunction getServiceName(serviceId) {\r\n    const services = {\r\n        'local-delivery-qatar': 'التوصيل المحلي في قطر',\r\n        'local-delivery-tunisia': 'التوصيل المحلي في تونس',\r\n        'scale-sales': 'بيع الموازين',\r\n        'scale-booking': 'حجز الموازين',\r\n        'money-delivery': 'توثيق تسليم الأموال'\r\n    };\r\n    return services[serviceId] || serviceId;\r\n}\r\n\r\nfunction sendReviewToWhatsApp(formData) {\r\n    // إنشاء رسالة واتساب مخصصة\r\n    const whatsappMessage = createWhatsAppMessage(formData);\r\n    \r\n    // ترميز الرسالة\r\n    const encodedMessage = encodeURIComponent(whatsappMessage);\r\n    \r\n    // إنشاء رابط واتساب\r\n    const whatsappUrl = `https://wa.me/${WHATSAPP_CONFIG.PHONE_NUMBER.replace(/\\D/g, '')}?text=${encodedMessage}`;\r\n    \r\n    // عرض حالة التحميل\r\n    showAlert('جاري فتح واتساب...', 'info');\r\n    \r\n    // حفظ المراجعة محلياً أولاً\r\n    saveReviewLocally(formData);\r\n    \r\n    // فتح واتساب في نافذة جديدة بعد تأخير قصير\r\n    setTimeout(() => {\r\n        window.open(whatsappUrl, '_blank');\r\n        \r\n        // إعادة تعيين النموذج\r\n        resetReviewForm();\r\n        \r\n        // عرض رسالة النجاح بعد التأخير\r\n        setTimeout(() => {\r\n            showAlert('تم فتح واتساب! الرجاء إرسال الرسالة.', 'success');\r\n        }, 1000);\r\n        \r\n    }, 500);\r\n}\r\n\r\nfunction createWhatsAppMessage(formData) {\r\n    const serviceName = getServiceName(formData.service);\r\n    const stars = '⭐'.repeat(formData.rating) + '☆'.repeat(5 - formData.rating);\r\n    const dateTime = `${formData.date} - ${formData.time}`;\r\n    \r\n    return `🎯 *مراجعة جديدة - Tn-QA Delivery*\r\n    \r\n👤 *المراجع:* ${formData.name}\r\n📧 *البريد:* ${formData.email || 'لم يتم الإدخال'}\r\n📋 *الخدمة:* ${serviceName}\r\n⭐ *التقييم:* ${formData.rating}/5\r\n${stars}\r\n\r\n📝 *المراجعة:*\r\n\"${formData.content}\"\r\n\r\n📅 *التاريخ:* ${dateTime}\r\n\r\n🔗 *المصدر:* ${window.location.href}\r\n---\r\n*هذه رسالة تلقائية من موقع المراجعات*\r\n`;\r\n}\r\n\r\nfunction saveReviewLocally(review) {\r\n    try {\r\n        const savedReviews = JSON.parse(localStorage.getItem('tnqa_whatsapp_reviews') || '[]');\r\n        \r\n        const reviewWithId = {\r\n            ...review,\r\n            id: Date.now(),\r\n            status: 'sent',\r\n            sent_via: 'whatsapp',\r\n            sent_at: new Date().toISOString()\r\n        };\r\n        \r\n        savedReviews.push(reviewWithId);\r\n        localStorage.setItem('tnqa_whatsapp_reviews', JSON.stringify(savedReviews));\r\n        \r\n        console.log('✅ Review saved locally:', reviewWithId);\r\n        return reviewWithId;\r\n    } catch (error) {\r\n        console.error('❌ Error saving review:', error);\r\n        return null;\r\n    }\r\n}\r\n\r\nfunction displayLocalReviews() {\r\n    try {\r\n        const savedReviews = JSON.parse(localStorage.getItem('tnqa_whatsapp_reviews') || '[]');\r\n        console.log('📊 Saved reviews:', savedReviews.length);\r\n        \r\n        // يمكنك عرض المراجعات المحفوظة في قسم خاص إذا أردت\r\n        if (savedReviews.length > 0) {\r\n            // إضافة مؤشر في الفوتر\r\n            addReviewsCounter(savedReviews.length);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error loading local reviews:', error);\r\n    }\r\n}\r\n\r\nfunction addReviewsCounter(count) {\r\n    const footer = document.querySelector('.footer-bottom');\r\n    if (!footer) return;\r\n    \r\n    const counter = document.createElement('div');\r\n    counter.className = 'local-reviews-counter';\r\n    counter.innerHTML = `\r\n        <i class=\"fas fa-history\"></i>\r\n        <span>${count} مراجعة محفوظة محلياً</span>\r\n    `;\r\n    \r\n    // إضافة CSS\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n        .local-reviews-counter {\r\n            background: rgba(212, 175, 55, 0.1);\r\n            border: 1px solid var(--gold-light);\r\n            border-radius: var(--radius-md);\r\n            padding: 10px 15px;\r\n            margin: 10px auto;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            gap: 10px;\r\n            max-width: 300px;\r\n            font-size: 0.9rem;\r\n            color: var(--gold-dark);\r\n        }\r\n        \r\n        .local-reviews-counter i {\r\n            color: var(--gold);\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n            .local-reviews-counter {\r\n                margin: 10px;\r\n                font-size: 0.8rem;\r\n            }\r\n        }\r\n    `;\r\n    \r\n    document.head.appendChild(style);\r\n    footer.parentNode.insertBefore(counter, footer);\r\n}\r\n\r\nfunction resetReviewForm() {\r\n    if (reviewForm) {\r\n        reviewForm.reset();\r\n        updateStarsDisplay(0);\r\n        if (ratingValue) {\r\n            ratingValue.value = 0;\r\n        }\r\n    }\r\n}\r\n\r\nfunction showAlert(message, type = 'info') {\r\n    const existingAlert = document.querySelector('.custom-alert');\r\n    if (existingAlert) {\r\n        existingAlert.remove();\r\n    }\r\n    \r\n    const alert = document.createElement('div');\r\n    alert.className = `custom-alert alert-${type}`;\r\n    alert.innerHTML = `\r\n        <div class=\"alert-content\">\r\n            <i class=\"fas ${getAlertIcon(type)}\"></i>\r\n            <span>${message}</span>\r\n        </div>\r\n        <button class=\"alert-close\">&times;</button>\r\n    `;\r\n    \r\n    // إضافة CSS إذا لم يكن موجوداً\r\n    if (!document.querySelector('#alert-styles')) {\r\n        const style = document.createElement('style');\r\n        style.id = 'alert-styles';\r\n        style.textContent = `\r\n            .custom-alert {\r\n                position: fixed;\r\n                top: 20px;\r\n                right: 20px;\r\n                left: 20px;\r\n                max-width: 500px;\r\n                margin: 0 auto;\r\n                padding: 15px 20px;\r\n                border-radius: var(--radius-md);\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                z-index: 9999;\r\n                box-shadow: var(--shadow-lg);\r\n                animation: slideDown 0.3s ease;\r\n                transform-origin: top center;\r\n            }\r\n            \r\n            .alert-success {\r\n                background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);\r\n                border: 2px solid #28a745;\r\n                color: #155724;\r\n            }\r\n            \r\n            .alert-error {\r\n                background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);\r\n                border: 2px solid #dc3545;\r\n                color: #721c24;\r\n            }\r\n            \r\n            .alert-info {\r\n                background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);\r\n                border: 2px solid #17a2b8;\r\n                color: #0c5460;\r\n            }\r\n            \r\n            .alert-content {\r\n                display: flex;\r\n                align-items: center;\r\n                gap: 10px;\r\n                flex: 1;\r\n            }\r\n            \r\n            .alert-content i {\r\n                font-size: 1.2rem;\r\n            }\r\n            \r\n            .alert-close {\r\n                background: none;\r\n                border: none;\r\n                font-size: 1.5rem;\r\n                cursor: pointer;\r\n                color: inherit;\r\n                padding: 0;\r\n                width: 30px;\r\n                height: 30px;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                border-radius: 50%;\r\n                transition: background-color 0.2s;\r\n            }\r\n            \r\n            .alert-close:hover {\r\n                background-color: rgba(0,0,0,0.1);\r\n            }\r\n            \r\n            @keyframes slideDown {\r\n                from {\r\n                    opacity: 0;\r\n                    transform: translateY(-20px);\r\n                }\r\n                to {\r\n                    opacity: 1;\r\n                    transform: translateY(0);\r\n                }\r\n            }\r\n            \r\n            @media (max-width: 768px) {\r\n                .custom-alert {\r\n                    top: 10px;\r\n                    right: 10px;\r\n                    left: 10px;\r\n                    padding: 12px 15px;\r\n                }\r\n            }\r\n        `;\r\n        document.head.appendChild(style);\r\n    }\r\n    \r\n    document.body.appendChild(alert);\r\n    \r\n    alert.querySelector('.alert-close').addEventListener('click', function() {\r\n        alert.style.animation = 'slideDown 0.3s ease reverse';\r\n        setTimeout(() => alert.remove(), 300);\r\n    });\r\n    \r\n    setTimeout(() => {\r\n        if (alert.parentNode) {\r\n            alert.style.animation = 'slideDown 0.3s ease reverse';\r\n            setTimeout(() => alert.remove(), 300);\r\n        }\r\n    }, 5000);\r\n}\r\n\r\nfunction getAlertIcon(type) {\r\n    switch(type) {\r\n        case 'success': return 'fa-check-circle';\r\n        case 'error': return 'fa-exclamation-circle';\r\n        case 'info': return 'fa-info-circle';\r\n        default: return 'fa-info-circle';\r\n    }\r\n}\r\n\r\n// ================= باقي الدوال (Reviews Filter, Scroll, etc.) =================\r\n// [ابق على نفس كود الدوال السابقة لـ initReviewsFilter, filterReviews, searchReviews, loadMoreReviews, initScrollToTop, initAnimations]\r\n\r\n// ================= REVIEWS FILTER =================\r\nfunction initReviewsFilter() {\r\n    if (filterButtons) {\r\n        filterButtons.forEach(button => {\r\n            button.addEventListener('click', function() {\r\n                filterButtons.forEach(btn => btn.classList.remove('active'));\r\n                this.classList.add('active');\r\n                const filterValue = this.getAttribute('data-filter');\r\n                filterReviews(filterValue);\r\n            });\r\n        });\r\n    }\r\n    \r\n    if (searchBox) {\r\n        searchBox.addEventListener('input', function() {\r\n            const searchTerm = this.value.toLowerCase();\r\n            searchReviews(searchTerm);\r\n        });\r\n    }\r\n    \r\n    if (loadMoreBtn) {\r\n        loadMoreBtn.addEventListener('click', function() {\r\n            loadMoreReviews();\r\n        });\r\n    }\r\n}\r\n\r\nfunction filterReviews(filter) {\r\n    const reviewCards = document.querySelectorAll('.review-card');\r\n    \r\n    reviewCards.forEach(card => {\r\n        if (filter === 'all') {\r\n            card.style.display = 'block';\r\n            setTimeout(() => {\r\n                card.style.opacity = '1';\r\n                card.style.transform = 'translateY(0)';\r\n            }, 50);\r\n        } else if (filter === 'service') {\r\n            card.style.display = 'block';\r\n            setTimeout(() => {\r\n                card.style.opacity = '1';\r\n                card.style.transform = 'translateY(0)';\r\n            }, 50);\r\n        } else {\r\n            const rating = card.getAttribute('data-rating');\r\n            if (rating === filter) {\r\n                card.style.display = 'block';\r\n                setTimeout(() => {\r\n                    card.style.opacity = '1';\r\n                    card.style.transform = 'translateY(0)';\r\n                }, 50);\r\n            } else {\r\n                card.style.opacity = '0';\r\n                card.style.transform = 'translateY(20px)';\r\n                setTimeout(() => {\r\n                    card.style.display = 'none';\r\n                }, 300);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction searchReviews(term) {\r\n    const reviewCards = document.querySelectorAll('.review-card');\r\n    \r\n    reviewCards.forEach(card => {\r\n        const name = card.querySelector('h3').textContent.toLowerCase();\r\n        const content = card.querySelector('.review-content p').textContent.toLowerCase();\r\n        const service = card.querySelector('.review-service').textContent.toLowerCase();\r\n        \r\n        if (name.includes(term) || content.includes(term) || service.includes(term)) {\r\n            card.style.display = 'block';\r\n            setTimeout(() => {\r\n                card.style.opacity = '1';\r\n                card.style.transform = 'translateY(0)';\r\n            }, 50);\r\n        } else {\r\n            card.style.opacity = '0';\r\n            card.style.transform = 'translateY(20px)';\r\n            setTimeout(() => {\r\n                card.style.display = 'none';\r\n            }, 300);\r\n        }\r\n    });\r\n}\r\n\r\nfunction loadMoreReviews() {\r\n    const loadMoreBtn = document.getElementById('loadMoreBtn');\r\n    if (!loadMoreBtn) return;\r\n    \r\n    loadMoreBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> جاري التحميل...';\r\n    loadMoreBtn.disabled = true;\r\n    \r\n    setTimeout(() => {\r\n        const newReviews = [\r\n            {\r\n                id: 7,\r\n                name: 'ياسر النجار',\r\n                location: 'مهندس من الأردن',\r\n                rating: 5,\r\n                date: 'قبل يومين',\r\n                service: 'توصيل معدات',\r\n                content: '\"خدمة ممتازة لنقل المعدات الهندسية. الدقة والأمان كانا في أعلى مستوى. أوصي بهم بشدة.\"',\r\n                avatar: 'https://randomuser.me/api/portraits/men/22.jpg'\r\n            },\r\n            {\r\n                id: 8,\r\n                name: 'لمياء السعيد',\r\n                location: 'طبيبة من مصر',\r\n                rating: 4,\r\n                date: 'قبل 6 أيام',\r\n                service: 'توصيل طبي',\r\n                content: '\"خدمة توصيل المستلزمات الطبية كانت سريعة وآمنة. الفريق محترف ومتعاون. شكراً لكم.\"',\r\n                avatar: 'https://randomuser.me/api/portraits/women/65.jpg'\r\n            }\r\n        ];\r\n        \r\n        newReviews.forEach(review => {\r\n            const reviewCard = createReviewCard(review);\r\n            reviewsGrid.appendChild(reviewCard);\r\n        });\r\n        \r\n        loadMoreBtn.innerHTML = '<i class=\"fas fa-sync-alt\"></i> تحميل المزيد';\r\n        loadMoreBtn.disabled = false;\r\n        \r\n        if (document.querySelectorAll('.review-card').length >= 10) {\r\n            loadMoreBtn.style.display = 'none';\r\n        }\r\n        \r\n        initReviewsFilter();\r\n        \r\n    }, 1500);\r\n}\r\n\r\nfunction createReviewCard(review) {\r\n    const card = document.createElement('div');\r\n    card.className = 'review-card';\r\n    card.setAttribute('data-rating', review.rating);\r\n    card.setAttribute('data-service', review.service.toLowerCase().replace(' ', '-'));\r\n    \r\n    let starsHtml = '';\r\n    for (let i = 1; i <= 5; i++) {\r\n        if (i <= review.rating) {\r\n            starsHtml += '<i class=\"fas fa-star\"></i>';\r\n        } else if (i === Math.ceil(review.rating) && review.rating % 1 !== 0) {\r\n            starsHtml += '<i class=\"fas fa-star-half-alt\"></i>';\r\n        } else {\r\n            starsHtml += '<i class=\"far fa-star\"></i>';\r\n        }\r\n    }\r\n    \r\n    card.innerHTML = `\r\n        <div class=\"review-header\">\r\n            <div class=\"reviewer-avatar\">\r\n                <img src=\"${review.avatar}\" alt=\"${review.name}\" loading=\"lazy\">\r\n            </div>\r\n            <div class=\"reviewer-info\">\r\n                <h3>${review.name}</h3>\r\n                <p>${review.location}</p>\r\n                <div class=\"review-rating\">\r\n                    ${starsHtml}\r\n                    <span class=\"review-date\">${review.date}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"review-content\">\r\n            <span class=\"review-verified\">\r\n                <i class=\"fas fa-check-circle\"></i> <span>مراجعة موثقة</span>\r\n            </span>\r\n            <span class=\"review-service\">${review.service}</span>\r\n            \r\n            <p>\"${review.content}\"</p>\r\n        </div>\r\n    `;\r\n    \r\n    card.style.opacity = '0';\r\n    card.style.transform = 'translateY(20px)';\r\n    card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';\r\n    \r\n    setTimeout(() => {\r\n        card.style.opacity = '1';\r\n        card.style.transform = 'translateY(0)';\r\n    }, 100);\r\n    \r\n    return card;\r\n}\r\n\r\n// ================= SCROLL TO TOP =================\r\nfunction initScrollToTop() {\r\n    window.addEventListener('scroll', function() {\r\n        if (window.scrollY > 300) {\r\n            scrollToTop.classList.add('visible');\r\n        } else {\r\n            scrollToTop.classList.remove('visible');\r\n        }\r\n    });\r\n    \r\n    if (scrollToTop) {\r\n        scrollToTop.addEventListener('click', function() {\r\n            window.scrollTo({\r\n                top: 0,\r\n                behavior: 'smooth'\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\n// ================= ANIMATIONS =================\r\nfunction initAnimations() {\r\n    const observerOptions = {\r\n        threshold: 0.1,\r\n        rootMargin: '0px 0px -50px 0px'\r\n    };\r\n    \r\n    const observer = new IntersectionObserver(function(entries) {\r\n        entries.forEach(entry => {\r\n            if (entry.isIntersecting) {\r\n                entry.target.classList.add('animated');\r\n            }\r\n        });\r\n    }, observerOptions);\r\n    \r\n    const animatedElements = document.querySelectorAll('.review-card, .stat-card, .section-header');\r\n    animatedElements.forEach(el => {\r\n        observer.observe(el);\r\n    });\r\n    \r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n        .review-card, .stat-card, .section-header {\r\n            opacity: 0;\r\n            transform: translateY(30px);\r\n            transition: opacity 0.6s ease, transform 0.6s ease;\r\n        }\r\n        \r\n        .review-card.animated, .stat-card.animated, .section-header.animated {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n        }\r\n        \r\n        .review-card:nth-child(1) { transition-delay: 0.1s; }\r\n        .review-card:nth-child(2) { transition-delay: 0.2s; }\r\n        .review-card:nth-child(3) { transition-delay: 0.3s; }\r\n        .review-card:nth-child(4) { transition-delay: 0.4s; }\r\n        .review-card:nth-child(5) { transition-delay: 0.5s; }\r\n        .review-card:nth-child(6) { transition-delay: 0.6s; }\r\n        \r\n        .stat-card:nth-child(1) { transition-delay: 0.1s; }\r\n        .stat-card:nth-child(2) { transition-delay: 0.2s; }\r\n        .stat-card:nth-child(3) { transition-delay: 0.3s; }\r\n        .stat-card:nth-child(4) { transition-delay: 0.4s; }\r\n    `;\r\n    document.head.appendChild(style);\r\n}\r\n\r\n// ================= WINDOW RESIZE HANDLER =================\r\nlet resizeTimer;\r\nwindow.addEventListener('resize', function() {\r\n    clearTimeout(resizeTimer);\r\n    resizeTimer = setTimeout(function() {\r\n        if (window.innerWidth >= 992 && navLinks.classList.contains('active')) {\r\n            navLinks.classList.remove('active');\r\n            burger.classList.remove('active');\r\n            document.body.style.overflow = '';\r\n        }\r\n    }, 250);\r\n});\r\n\r\n// ================= KEYBOARD NAVIGATION =================\r\ndocument.addEventListener('keydown', function(e) {\r\n    if (e.key === 'ArrowUp' && e.ctrlKey) {\r\n        e.preventDefault();\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }\r\n    \r\n    if (e.key === 'Escape' && navLinks.classList.contains('active')) {\r\n        navLinks.classList.remove('active');\r\n        burger.classList.remove('active');\r\n        document.body.style.overflow = '';\r\n    }\r\n});\r\n\r\n// ================= WHATSAPP BUTTONS =================\r\ndocument.querySelectorAll('.whatsapp-btn, .float-whatsapp').forEach(btn => {\r\n    btn.addEventListener('click', function(e) {\r\n        const phone = this.href.includes('whatsapp') ? WHATSAPP_CONFIG.PHONE_NUMBER : '+97431691024';\r\n        const message = encodeURIComponent('مرحباً، أود الاستفسار عن خدمات التوصيل');\r\n        const whatsappUrl = `https://wa.me/${phone.replace(/\\D/g, '')}?text=${message}`;\r\n        \r\n        window.open(whatsappUrl, '_blank');\r\n    });\r\n});"],"file":"reviews.dev.js"}